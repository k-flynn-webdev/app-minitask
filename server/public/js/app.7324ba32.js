(function(t){function e(e){for(var n,r,a=e[0],c=e[1],u=e[2],d=0,p=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},o={app:0},i=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task",attrs:{id:"app"}},[s("ToastHolder"),s("router-view"),t._m(0)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__footer"},[s("p",[t._v("footer")])])}],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toast"},t._l(t.Toasts,(function(t){return s("Toast",{key:t.id,attrs:{data:t}})})),1)},a=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toast",class:{ERROR:t.data.isError}},[s("div",{staticClass:"toast__content"},[t._v(" "+t._s(t.data)+" ")]),s("button",{staticClass:"toast__close",on:{click:t.closeToast}},[t._v(" X ")])])},u=[];function l(){return{id:-1,title:"",message:"",status:"",isError:!1,isTimed:!1,time:-1}}var d={name:"Toast",props:{data:l()},methods:{closeToast:function(){this.$store.commit("toasts/toastRemove",this.data)}}},p=d,m=s("2877"),h=Object(m["a"])(p,c,u,!1,null,null,null),f=h.exports,_={name:"ToastHolder",components:{Toast:f},computed:{Toasts:function(){return this.$store.getters["toasts/toasts"]}},methods:{clearAllToasts:function(){this.$store.commit("toasts/toastRemoveAll")}}},E=_,v=Object(m["a"])(E,r,a,!1,null,null,null),C=v.exports,j={name:"App",components:{ToastHolder:C}},w=j,k=Object(m["a"])(w,o,i,!1,null,null,null),S=k.exports,g=s("2f62"),D=(s("b0c0"),s("bc3a")),T=s.n(D);function R(t,e){return T.a.get(t,e)}function L(t,e){return T.a.post(t,e)}function O(t,e){return T.a.put(t,e)}function A(t,e){return T.a.patch(t,e)}function x(t,e){return T.a.delete(t,e)}T.a.defaults.headers.common["Accept-Version"]="v1",T.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var b={get:R,post:L,put:O,patch:A,remove:x},y=b,$="user_token",I="user_payload";function P(t){return t.data&&t.data.data&&t.data.data.account?(localStorage.setItem(I,JSON.stringify(t.data.data.account)),t):(localStorage.setItem(I,""),t)}function U(){var t=localStorage.getItem(I);if(void 0!==t&&"undefined"!==t&&null!==t)return JSON.parse(t)}function M(){N()}function B(t){return t.data&&t.data.data&&t.data.data.token?(localStorage.setItem($,t.data.data.token),Y(t.data.data.token),t):(localStorage.setItem($,null),J(),t)}function N(){var t=localStorage.getItem($);t?Y(t):J()}function Y(t){T.a.defaults.headers.common.authorization="Bearer ".concat(t)}function J(){T.a.defaults.headers.common.authorization=null}function V(){return y.get("/api/user").then((function(t){return B(t)})).then((function(t){return P(t)}))}function Z(t){return y.post("/api/user",t).then((function(t){return B(t)})).then((function(t){return P(t)}))}function F(t){return y.post("/api/user/anon",t).then((function(t){return P(t)}))}function K(t){return y.post("/api/user/login",t).then((function(t){return B(t)})).then((function(t){return P(t)}))}function H(){return y.post("/api/user/logout").then((function(t){return B(t)})).then((function(t){return P(t)}))}function W(t){return y.patch("/api/user",t).then((function(t){return B(t)})).then((function(t){return P(t)}))}function G(t){return y.post("/api/user/reset",t).then((function(t){return B(t)})).then((function(t){return P(t)}))}function X(t){return y.patch("/api/user/reset/".concat(t.verify),t).then((function(t){return B(t)})).then((function(t){return P(t)}))}function q(t){return y.get("/api/user/verify/".concat(t)).then((function(t){return B(t)})).then((function(t){return P(t)}))}M();var z={create:Z,createAnon:F,login:K,logout:H,update:W,verify:q,get:V,getUser:U,resetStart:G,resetComplete:X},Q=z;function tt(){var t=Q.getUser();return void 0!==t?t:{id:-1,name:"",email:"",role:"user"}}var et={namespaced:!0,state:{user:tt()},getters:{user:function(t){return t.user}},mutations:{user:function(t,e){t.user.id=e.id,t.user.name=e.name,t.user.email=e.email,t.user.role=e.role}},actions:{createAnon:function(t){return Q.createAnon().then((function(e){return t.commit("user",e.data.data.account)}))}}},st=(s("4de4"),-1),nt=null,ot=10,it=1e3;function rt(t){st+=1;var e=t.title?t.title:"",s=t.response&&t.response&&t.response.data?t.response.data.message:t.message,n=!t.isError||t.isError,o=!!t.isTimed&&t.isTimed,i=function(){return t.isTimed?ot:-1};return{id:st,title:e,message:s,isError:n,isTimed:o,time:i()}}function at(t){nt||(nt=setTimeout((function(){ut(t)}),it))}function ct(){clearTimeout(nt),nt=null}function ut(t){for(var e=!0,s=t.toasts.length-1;s>=0;s--)t.toasts[s].isTimed&&t.toasts[s].time>=0&&(t.toasts[s].time-=1,t.toasts[s].isTimed&&t.toasts[s].time<0&&n["a"].delete(t.toasts,s),e=!1);e?ct():(nt=null,at(t))}var lt={namespaced:!0,state:{toasts:[]},getters:{toasts:function(t){return t.toasts},toast:function(t){return function(e){return t.toasts.filter((function(t){return t.id===e}))}}},mutations:{toastAdd:function(t,e){var s=rt(e);return t.toasts.push(s),s.isTimed>=0&&at(t),e},toastRemove:function(t,e){for(var s=0,o=t.toasts.length;s<o;s++)if(t.toasts[s].id===e.id)return n["a"].delete(t.toasts,s),e},toastRemoveAll:function(t){n["a"].set(t,"toasts",[])}},actions:{}};s("7db0"),s("a434");function dt(t){return y.get("/api/tasks",{params:t})}function pt(t){return y.get("/api/task/".concat(t.id))}function mt(t){return y.post("/api/task/create",t)}function ht(t){return y.patch("/api/task/".concat(t.id),t)}function ft(t){return y.put("/api/task/".concat(t.id),t)}function _t(t){return y.remove("/api/task/".concat(t.id),t)}var Et={all:dt,get:pt,create:mt,update:ht,replace:ft,remove:_t},vt=Et,Ct={namespaced:!0,state:{tasks:[],current:{}},getters:{current:function(t){return t.current},tasks:function(t){return t.tasks},task:function(t){return function(e){return t.tasks.find((function(t){return t.id===e}))}}},mutations:{taskCurrent:function(t,e){n["a"].set(t,"current",e)},taskAdd:function(t,e){return t.tasks.unshift(e),e},taskReplace:function(t,e){for(var s=0,n=t.tasks.length;s<n;s++)if(t.tasks[s].id===e.id)return t.tasks.splice(s,1,e),t.tasks[s]},taskRemove:function(t,e){for(var s=0,n=t.tasks.length;s<n;s++)if(t.tasks[s].id===e.id)return t.tasks.splice(s,1),e},taskSet:function(t,e){n["a"].set(t,"tasks",e)}},actions:{create:function(t,e){return vt.create(e).then((function(e){return t.commit("taskCurrent",e.data.data.task),t.commit("taskAdd",e.data.data.task)}))},update:function(t,e){return vt.update(e).then((function(e){return t.commit("taskReplace",e.data.data.task)}))},remove:function(t,e){return vt.remove(e).then((function(){return t.commit("taskRemove",e)}))},getTasksByUserOrProject:function(t,e){return vt.all(e).then((function(e){return t.commit("taskSet",e.data.data.tasks),e.data.data.tasks}))}}},jt=500,wt=250,kt=33,St=900,gt=6e3,Dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{id:-1,name:"Project",user:t,tasksDone:0,tasksTotal:0}},Tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{name:"Project",user:t,tasksDone:0,tasksTotal:0}},Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{id:-1,text:"Task",project:-1,user:t,isDone:!1}},Lt={DELAY:jt,DELAY_BLIP:kt,DELAY_SHORT:wt,DELAY_SUCCESS:St,DELAY_ERROR:gt,DEFAULT_PROJECT:Dt,DEFAULT_PROJECT_NO_ID:Tt,DEFAULT_TASK:Rt};function Ot(t){return y.get("/api/projects",{params:t})}function At(t){return y.get("/api/project/".concat(t.id))}function xt(t){return y.post("/api/project/create",t)}function bt(t){return y.patch("/api/project/".concat(t.id),t)}function yt(t){return y.remove("/api/project/".concat(t.id))}var $t={all:Ot,get:At,create:xt,update:bt,remove:yt},It=$t,Pt={namespaced:!0,state:{projects:[Lt.DEFAULT_PROJECT()],current:Lt.DEFAULT_PROJECT()},getters:{current:function(t){return t.current},projects:function(t){return t.projects},project:function(t){return function(e){return t.projects.find((function(t){return t.id===e}))}}},mutations:{projectCurrent:function(t,e){n["a"].set(t,"current",e)},projectAdd:function(t,e){return t.projects.unshift(e),e},projectReplace:function(t,e){for(var s=0,n=t.projects.length;s<n;s++)if(t.projects[s].id===e.id)return t.projects.splice(s,1,e),t.projects[s]},projectRemove:function(t,e){for(var s=0,n=t.projects.length;s<n;s++)if(t.projects[s].id===e.id)return t.projects.splice(s,1),e},projectSet:function(t,e){n["a"].set(t,"projects",e)}},actions:{create:function(t,e){return It.create(e).then((function(e){return t.commit("projectCurrent",e.data.data.project),t.commit("projectAdd",e.data.data.project),e.data.data.project}))},update:function(t,e){return It.update(e).then((function(s){if(t.commit("projectReplace",s.data.data.project),t.getters.current.id===e.id)return t.commit("projectCurrent",s.data.data.project),s.data.data.project}))},remove:function(t,e){return It.remove(e).then((function(){if(t.commit("projectRemove",e),t.getters.current.id===e.id)return t.commit("projectCurrent",t.getters.projects[0])}))},getProjectById:function(t,e){return It.get(e).then((function(s){if(t.commit("projectReplace",s.data.data.project),t.getters.current.id===e.id)return t.commit("projectCurrent",s.data.data.project),s.data.data.project}))},getProjectsByUserId:function(t,e){return It.all(e).then((function(s){if(s.data.data.projects.length<1){var n=Lt.DEFAULT_PROJECT(e.user);return t.dispatch("create",n)}return t.commit("projectSet",s.data.data.projects),t.commit("projectCurrent",t.getters.projects[0])}))}}};n["a"].use(g["a"]);var Ut=new g["a"].Store({state:{},mutations:{},actions:{},modules:{toasts:lt,user:et,tasks:Ct,projects:Pt}}),Mt=s("8c4f"),Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative"},[s("div",{staticClass:"task__project__header"},[s("ProjectInfoName")],1),s("div",{staticClass:"task__project__header__controls"},[s("div",{staticClass:"flex-row"},[s("ProjectTaskSwitch",{model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}}),s("UserInfoMini")],1),s("InputBar",{attrs:{mode:t.mode}})],1),t.isProjects?s("ProjectsList"):t._e(),t.isTasks?s("TasksList"):t._e()],1)},Nt=[],Yt="CLEAR",Jt="USER",Vt="PROJECTS",Zt="TASKS",Ft="EDIT",Kt="CREATE",Ht="DELETE",Wt="ALL",Gt="CONFIRM",Xt={CLEAR:Yt,USER:Jt,PROJECTS:Vt,TASKS:Zt,EDIT:Ft,CREATE:Kt,DELETE:Ht,ALL:Wt,CONFIRM:Gt},qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__header__controls__input-bar"},[s("form",{staticClass:"relative",on:{submit:function(e){return e.preventDefault(),t.submitInput(e)}}},[s("StatusBar",{attrs:{status:t.status}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],class:t.status,attrs:{type:"text"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},t.resetStatus]}})],1),s("button",{staticClass:"no-margin-x text-right",class:[t.status,t.isValid?"":"DISABLED"],attrs:{"aria-label":"submit",title:"submit"},on:{click:t.submitInput}},[s("icTick",{staticClass:"md",attrs:{alt:"submit"}})],1)])},zt=[],Qt=(s("99af"),s("d3b7"),s("25f0"),function(t,e){return setTimeout((function(){t()}),e)}),te=function(t){if(!t)return"No date";var e=new Date(t);return e.toLocaleDateString()},ee=function(t){if(!t)return"No date";var e=new Date(t),s=e.getHours(),n=s>12;n&&(s-=12),s<10&&(s="0"+s);var o=n?" pm":" am",i=e.getMinutes();return i<10&&(i="0"+i),s+":"+i+o},se=function(t){return te(t)+" "+ee(t)},ne=function(t,e){return"(".concat(t,"/").concat(e,")")},oe=function(t,e){return e&&0!==e&&t&&0!==t?Math.floor(t/e*100).toString()+"%":"0%"},ie={timeDelay:Qt,renderDate:te,renderTime:ee,renderDateTime:se,renderProgressNum:ne,renderProgressPercent:oe},re=ie,ae="",ce="WAITING",ue="SUCCESS",le="DISABLED",de="ERROR",pe="OPEN",me="CLOSE",he="COMPLETE",fe="SELECT",_e={CLEAR:ae,WAITING:ce,SUCCESS:ue,DISABLED:le,ERROR:de,OPEN:pe,CLOSE:me,SELECT:fe,COMPLETE:he},Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status bar ",class:t.statusUpdate})},ve=[],Ce={name:"StatusBar",data:function(){return{statusUpdate:_e.CLEAR}},props:{status:{type:String,default:_e.CLEAR}},watch:{status:function(t,e){var s=e&&e.length>0,n=t&&t.length>0,o=t===e;!s||n?s&&n&&!o?this.delayStatusUpdate(t):this.statusUpdate=t:this.delayComplete()}},methods:{delayComplete:function(){var t=this;this.statusUpdate=_e.COMPLETE,re.timeDelay((function(){t.statusUpdate=_e.CLEAR}),Lt.DELAY_SHORT)},delayStatusUpdate:function(t){var e=this;this.statusUpdate=_e.CLEAR,re.timeDelay((function(){e.statusUpdate=t}),Lt.DELAY_BLIP)}}},je=Ce,we=Object(m["a"])(je,Ee,ve,!1,null,null,null),ke=we.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M79.623,182.472l-79.454,-79.454l40.754,-40.754l38.7,38.699l79.454,-79.454l40.754,40.755l-120.208,120.208Z"}})])},ge=[],De={},Te=Object(m["a"])(De,Se,ge,!1,null,null,null),Re=Te.exports,Le={name:"InputBar",components:{icTick:Re,StatusBar:ke},props:{mode:{type:String,default:_e.CLEAR}},data:function(){return{input:_e.CLEAR,status:_e.CLEAR}},computed:{isValid:function(){return this.input.length>=4},user:function(){return this.$store.getters["user/user"]},project:function(){return this.$store.getters["projects/current"]}},watch:{mode:function(t,e){}},methods:{reset:function(){this.input=_e.CLEAR,this.resetStatus()},resetStatus:function(){this.status=_e.CLEAR},submitInput:function(){var t=this;if(this.isValid&&this.status===_e.CLEAR){this.status=_e.WAITING;var e="projects/create",s={user:this.user.id,name:this.input};return this.mode===Xt.TASKS&&(e="tasks/create",s={user:this.user.id,project:this.project.id,text:this.input}),this.$store.dispatch(e,s).then((function(e){if(t.input=_e.CLEAR,t.status=_e.SUCCESS,t.$emit(_e.SUCCESS,e),re.timeDelay((function(){t.reset()}),Lt.DELAY_SUCCESS),t.mode===Xt.TASKS)return t.getLatestProject()})).catch((function(e){return t.handleError(e)}))}},getLatestProject:function(){return this.$store.dispatch("projects/getProjectById",{id:this.project.id})},handleError:function(t){this.status=_e.ERROR,this.$emit(_e.ERROR,t),this.$store.commit("toasts/toastAdd",t)}}},Oe=Le,Ae=Object(m["a"])(Oe,qt,zt,!1,null,null,null),xe=Ae.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticClass:"task__project__header__user",attrs:{to:"/user",title:"go to user"}},[s("div",{staticClass:"flex-row no-wrap"},[s("p",{staticClass:"task__project__header__user-name upper text-bold hide-sm-down"},[t._v(" "+t._s(t.user.name)+" ")]),s("icUser",{staticClass:"task__project__header__user-icon"})],1)])},ye=[],$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M52.923,136.896c0,0 -11.002,-76.303 -8.308,-98.12c1.672,-13.535 11.728,-27.941 24.477,-32.785c14.382,-5.464 47.434,-5.464 61.816,0c12.749,4.844 22.805,19.25 24.477,32.785c2.694,21.817 -8.308,98.12 -8.308,98.12c0,0 29.396,13.337 36,23.539c6.603,10.202 6.923,39.565 6.923,39.565l-180,0c0,0 0.32,-29.363 6.923,-39.565c6.604,-10.202 36,-23.539 36,-23.539Zm29.769,-46.006c5.77,-3.462 28.846,-3.462 34.616,0c5.769,3.461 5.769,17.308 0,20.769c-5.77,3.462 -28.846,3.462 -34.616,0c-5.769,-3.461 -5.769,-17.308 0,-20.769Zm35.197,-42.984c3.461,-3.462 17.307,-3.462 20.769,0c3.461,3.461 3.461,17.308 0,20.769c-3.462,3.462 -17.308,3.462 -20.769,0c-3.462,-3.461 -3.462,-17.308 0,-20.769Zm-56.547,0c3.462,-3.462 17.308,-3.462 20.769,0c3.462,3.461 3.462,17.308 0,20.769c-3.461,3.462 -17.307,3.462 -20.769,0c-3.461,-3.461 -3.461,-17.308 0,-20.769Z"}})])},Ie=[],Pe={},Ue=Object(m["a"])(Pe,$e,Ie,!1,null,null,null),Me=Ue.exports,Be={name:"UserInfoMini",components:{icUser:Me},computed:{user:function(){return this.$store.getters["user/user"]}}},Ne=Be,Ye=Object(m["a"])(Ne,be,ye,!1,null,null,null),Je=Ye.exports,Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__projects-list no-overflow"},[s("transition-group",{attrs:{name:"list-anim",tag:"ul"}},t._l(t.projects,(function(e){return s("ProjectItem",{key:e.id,attrs:{data:e,selected:t.project.id===e.id}})})),1)],1)},Ze=[],Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-item"},[s("div",{staticClass:"task__project__list__item",class:{SELECT:t.selected,EDIT:t.isEdit,DELETE:t.isDelete,COMPLETE:t.data.isDone}},[s("div",{staticClass:"task__project__list__item-status text-left hide-sm-down",on:{click:t.onSelectProject}},[t.data.isDone?s("icDone",{staticClass:"transition"}):s("icRound",{staticClass:"xs transition"})],1),s("div",{staticClass:"flex-auto no-overflow relative"},[s("div",{staticClass:"task__project__list__item-content",on:{click:t.onSelectProject}},[s("p",{staticClass:"task__project__list__item-progress hide-xs"},[t._v(" "+t._s(t.progress)+" ")]),s("p",{staticClass:"task__project__list__item-data"},[t._v(" "+t._s(t.data.name)+" ")]),s("p",{staticClass:"task__project__list__item-updated"},[s("small",{staticClass:"hide-sm-down"},[t._v(t._s(t.dayMonth))]),s("small",{staticClass:"hide-md-down"},[t._v("/"+t._s(t.year))]),s("small",{staticClass:"hide-lg-down"},[t._v(" "+t._s(t.time)+" ")])])]),s("form",{staticClass:"task__project__list__item__edit",on:{submit:function(e){return e.preventDefault(),t.confirmEdit(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit,expression:"edit"}],ref:"itemEdit",staticClass:"task__project__list__item__edit-input",class:t.options.status,attrs:{type:"text"},domProps:{value:t.edit},on:{input:[function(e){e.target.composing||(t.edit=e.target.value)},t.checkEdit]}})]),s("StatusBar",{attrs:{status:t.options.status}}),s("div",{staticClass:"task__project__list__item-bg"})],1),s("div",{staticClass:"task__project__list__item-option-bar-btn"},[s("button",{class:{DISABLED:t.options.show},attrs:{"aria-label":"open options",title:"open options"},on:{click:t.openOptions}},[s("icOptions",{staticClass:"icon-70"})],1)])]),s("RowOption",{attrs:{options:t.options},on:{confirm:t.onConfirm,edit:t.onModeEdit,delete:t.onModeDelete,close:t.closeOptions}})],1)},Ke=[],He=(s("a15b"),s("ac1f"),s("1276"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M167.175,32.825c-37.075,-37.075 -97.275,-37.075 -134.35,0c-37.075,37.075 -37.075,97.275 0,134.35c37.075,37.075 97.275,37.075 134.35,0c37.075,-37.075 37.075,-97.275 0,-134.35Z"}})])}),We=[],Ge={},Xe=Object(m["a"])(Ge,He,We,!1,null,null,null),qe=Xe.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M0,155.556l178.182,0l21.818,44.444l-180,0l-20,-44.444Zm0,-77.778l178.182,0l21.818,44.444l-180,0l-20,-44.444Zm0,-77.778l178.182,0l21.818,44.444l-180,0l-20,-44.444Z"}})])},Qe=[],ts={},es=Object(m["a"])(ts,ze,Qe,!1,null,null,null),ss=es.exports,ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.options.show?s("div",{staticClass:"task__project__list__item__option-bar"},[t.showConfirm?s("span",{key:"showConfirm",staticClass:"task__project__list__item__option-bar-confirm"},["DELETE"===t.options.mode?s("span",[t._v(" Delete "),s("span",{staticClass:"hide-md-down"},[t._v(" Item")]),t._v(" ? ")]):t._e(),s("button",{class:[t.options.status,t.options.isValidEdit?"":"DISABLED"],attrs:{"aria-label":"confirm change",title:"confirm change"},on:{click:t.onConfirm}},[s("icDone")],1)]):t._e(),t.options.showEdit?s("button",{key:"showEdit",staticClass:"task__project__list__item__option-bar-edit",attrs:{"aria-label":"edit item",title:"edit item"},on:{click:t.onEdit}},[s("icEdit")],1):t._e(),t.options.showDelete?s("button",{key:"showDelete",staticClass:"task__project__list__item__option-bar-delete",attrs:{"aria-label":"delete item",title:"delete item"},on:{click:t.onDelete}},[s("icDelete",{staticClass:"fill-warning"})],1):t._e(),t.options.showClose?s("button",{key:"showClose",staticClass:"task__project__list__item__option-bar-close",attrs:{"aria-label":"close options",title:"close options"},on:{click:t.closeOptions}},[s("icRight")],1):t._e()]):t._e()},os=[],is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M34.738,131.069l101.601,-100.84l33.767,34.021l-101.6,100.841l-33.768,-34.022Zm-4.719,5.14l33.312,33.562l-33.437,-0.125l0.125,-33.437Z"}})])},rs=[],as={},cs=Object(m["a"])(as,is,rs,!1,null,null,null),us=cs.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M50,0l0,200l100,-100l-100,-100Z"}})])},ds=[],ps={},ms=Object(m["a"])(ps,ls,ds,!1,null,null,null),hs=ms.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M100,68.887l50.205,-50.204l31.112,31.112l-50.204,50.205l50.204,50.205l-31.112,31.112l-50.205,-50.204l-50.205,50.204l-31.112,-31.112l50.204,-50.205l-50.204,-50.205l31.112,-31.112l50.205,50.204Z"}})])},_s=[],Es={},vs=Object(m["a"])(Es,fs,_s,!1,null,null,null),Cs=vs.exports,js=function(){return{mode:_e.CLEAR,status:_e.CLEAR,show:!1,showEdit:!0,showDelete:!0,showClose:!0,isValidEdit:!0}},ws={name:"RowOption",components:{icEdit:us,icDone:Re,icRight:hs,icDelete:Cs},props:{options:{type:Object,default:js()}},computed:{showConfirm:function(){return this.options.mode===Xt.EDIT||this.options.mode===Xt.DELETE}},methods:{onEdit:function(){this.$emit(Xt.EDIT.toLowerCase())},onDelete:function(){this.$emit(Xt.DELETE.toLowerCase())},onConfirm:function(){this.$emit(Xt.CONFIRM.toLowerCase(),this.options.mode)},closeOptions:function(){this.$emit(_e.CLOSE.toLowerCase())}}},ks=ws,Ss=Object(m["a"])(ks,ns,os,!1,null,null,null),gs=Ss.exports,Ds={name:"ProjectItem",components:{icDone:Re,icRound:qe,icOptions:ss,RowOption:gs,StatusBar:ke},props:{data:{type:Object,default:Lt.DEFAULT_PROJECT()},selected:{type:Boolean,default:!1}},data:function(){return{options:{mode:_e.CLEAR,status:_e.CLEAR,show:!1,showEdit:!0,showDelete:!0,showClose:!0,isValidEdit:!1},edit:_e.CLEAR}},computed:{progress:function(){return re.renderProgressNum(this.data.tasksDone,this.data.tasksTotal)},date:function(){return re.renderDate(this.data.updated)},dayMonth:function(){var t=this.date.split("/");return t.splice(t.length-1,1),t.join("/")},year:function(){var t=this.date.split("/");return t[t.length-1]},time:function(){return re.renderTime(this.data.updated)},isEdit:function(){return this.options.mode===Xt.EDIT},isDelete:function(){return this.options.mode===Xt.DELETE}},mounted:function(){this.$parent.$on("CLOSE-OPT",this.closeImmediate)},beforeDestroy:function(){this.$parent.$off("CLOSE-OPT",this.closeImmediate)},methods:{onSelectProject:function(){this.$store.commit("projects/projectCurrent",this.data)},onModeEdit:function(){var t=this;this.edit=this.data.name,this.checkEdit(this.data.name),this.options.mode=Xt.EDIT,this.options.showDelete=!1,this.options.showEdit=!1,this.$nextTick((function(){return t.$refs.itemEdit.focus()}))},onModeDelete:function(){this.options.mode=Xt.DELETE,this.options.showDelete=!1,this.options.showEdit=!1,this.options.isValidEdit=!0},onConfirm:function(t){return t===Xt.EDIT?this.confirmEdit():t===Xt.DELETE?this.confirmDelete():void 0},confirmEdit:function(){var t=this;if(this.options.status===_e.CLEAR&&this.edit!==this.data.name){this.options.status=_e.WAITING;var e={id:this.data.id,name:this.edit};return this.$store.dispatch("projects/update",e).then((function(){t.options.status=_e.SUCCESS,re.timeDelay((function(){t.resetMode(),t.closeOptions()}),Lt.DELAY_SUCCESS),re.timeDelay((function(){t.resetStatus()}),Lt.DELAY_SUCCESS+Lt.DELAY)})).catch((function(e){return t.handleError(e)}))}},confirmDelete:function(){var t=this;if(this.options.status===_e.CLEAR)return this.options.status=_e.WAITING,this.$store.dispatch("projects/remove",this.data).then((function(){t.options.status=_e.SUCCESS,re.timeDelay((function(){t.resetMode(),t.closeOptions()}),Lt.DELAY_SUCCESS),re.timeDelay((function(){t.resetStatus()}),Lt.DELAY_SUCCESS+Lt.DELAY)})).catch((function(e){return t.handleError(e)}))},checkEdit:function(){this.resetStatus(),!this.edit||this.edit.length<4?this.options.isValidEdit=!1:this.options.isValidEdit=this.edit!==this.data.name},openOptions:function(){this.resetMode(),this.resetStatus(),this.$parent.$emit("CLOSE-OPT"),this.options.show=!0,this.options.showEdit=!0,this.options.showDelete=!0,this.options.showClose=!0},closeOptions:function(){this.resetMode(),this.options.show=!1},closeImmediate:function(){this.resetMode(),this.options.show=!1,this.options.showEdit=!1,this.options.showDelete=!1,this.options.showClose=!1},resetStatus:function(){this.options.status=_e.CLEAR},resetMode:function(){this.options.mode=_e.CLEAR},handleError:function(t){var e=this;this.options.status=_e.ERROR,this.$emit(_e.ERROR,t),this.$store.commit("toasts/toastAdd",t),re.timeDelay((function(){e.resetStatus()}),Lt.DELAY_ERROR)}}},Ts=Ds,Rs=Object(m["a"])(Ts,Fe,Ke,!1,null,null,null),Ls=Rs.exports,Os={name:"ProjectsList",components:{ProjectItem:Ls},computed:{project:function(){return this.$store.getters["projects/current"]},projects:function(){return this.$store.getters["projects/projects"]}},methods:{handleError:function(t){this.status=_e.ERROR,this.$emit(_e.ERROR,t),this.$store.commit("toasts/toastAdd",t)}}},As=Os,xs=Object(m["a"])(As,Ve,Ze,!1,null,null,null),bs=xs.exports,ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__header__info flex-row no-wrap"},[s("p",{staticClass:"task__project__header__info-name name text-bold"},[t._v(" "+t._s(t.project.name)+" ")]),s("p",{staticClass:"task__project__header__info-count text-bold"},[t._v(" ("+t._s(t.project.tasksTotal)+"/"+t._s(t.project.tasksDone)+") ")])])},$s=[],Is={name:"ProjectInfoName",computed:{project:function(){return this.$store.getters["projects/current"]}}},Ps=Is,Us=Object(m["a"])(Ps,ys,$s,!1,null,null,null),Ms=Us.exports,Bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__header__controls__switch"},[s("button",{staticClass:"task__project__header__controls__switch-projects",class:{ACTIVE:t.value===t.modes.PROJECTS},on:{click:function(e){return t.$emit("input",t.modes.PROJECTS)}}},[t._v(" projects ")]),s("button",{staticClass:"task__project__header__controls__switch-tasks",class:{ACTIVE:t.value===t.modes.TASKS},on:{click:function(e){return t.$emit("input",t.modes.TASKS)}}},[t._v(" tasks ")])])},Ns=[],Ys={name:"ProjectTaskSwitch",data:function(){return{modes:Xt}},props:{value:{type:String,default:Xt.CLEAR}}},Js=Ys,Vs=Object(m["a"])(Js,Bs,Ns,!1,null,null,null),Zs=Vs.exports,Fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__tasks-list no-overflow"},[s("transition-group",{attrs:{name:"list-anim",tag:"ul"}},t._l(t.tasks,(function(e){return s("TaskItem",{key:e.id,attrs:{data:e,selected:t.task.id===e.id}})})),1)],1)},Ks=[],Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-item"},[s("div",{staticClass:"task__project__list__item TASK",class:{EDIT:t.isEdit,DELETE:t.isDelete}},[s("div",{staticClass:"task__project__list__item-status text-left",class:{on:t.data.isDone},on:{click:t.onSelectTask}},[t.data.isDone?s("icDone",{staticClass:"transition fill-success-status"}):s("icRound",{staticClass:"xs transition"})],1),s("div",{staticClass:"flex-auto no-overflow relative"},[s("div",{staticClass:"task__project__list__item-content"},[s("p",{staticClass:"task__project__list__item-data"},[t._v(" "+t._s(t.data.text)+" ")]),s("p",{staticClass:"task__project__list__item-updated"},[s("small",{staticClass:"hide-sm-down"},[t._v(t._s(t.dayMonth))]),s("small",{staticClass:"hide-md-down"},[t._v("/"+t._s(t.year))]),s("small",{staticClass:"hide-lg-down"},[t._v(" "+t._s(t.time)+" ")])])]),s("form",{staticClass:"task__project__list__item__edit",on:{submit:function(e){return e.preventDefault(),t.confirmEdit(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit,expression:"edit"}],ref:"itemEdit",staticClass:"task__project__list__item__edit-input",class:t.options.status,attrs:{type:"text"},domProps:{value:t.edit},on:{input:[function(e){e.target.composing||(t.edit=e.target.value)},t.checkEdit]}})]),s("StatusBar",{attrs:{status:t.options.status}}),s("div",{staticClass:"task__project__list__item-bg"})],1),s("div",{staticClass:"task__project__list__item-option-bar-btn"},[s("button",{class:{DISABLED:t.options.show},attrs:{"aria-label":"open options",title:"open options"},on:{click:t.openOptions}},[s("icOptions",{staticClass:"icon-70"})],1)])]),s("RowOption",{attrs:{options:t.options},on:{confirm:t.onConfirm,edit:t.onModeEdit,delete:t.onModeDelete,close:t.closeOptions}})],1)},Ws=[],Gs={name:"TaskItem",components:{icDone:Re,icRound:qe,icOptions:ss,RowOption:gs,StatusBar:ke},props:{data:{type:Object,default:Lt.DEFAULT_TASK()},selected:{type:Boolean,default:!1}},data:function(){return{options:{mode:_e.CLEAR,status:_e.CLEAR,show:!1,showEdit:!0,showDelete:!0,showClose:!0,isValidEdit:!1},edit:_e.CLEAR}},computed:{date:function(){return re.renderDate(this.data.updated)},dayMonth:function(){var t=this.date.split("/");return t.splice(t.length-1,1),t.join("/")},year:function(){var t=this.date.split("/");return t[t.length-1]},time:function(){return re.renderTime(this.data.updated)},isEdit:function(){return this.options.mode===Xt.EDIT},isDelete:function(){return this.options.mode===Xt.DELETE}},mounted:function(){this.$parent.$on("CLOSE-OPT",this.closeImmediate)},beforeDestroy:function(){this.$parent.$off("CLOSE-OPT",this.closeImmediate)},methods:{onSelectTask:function(){var t=this;if(this.options.status===_e.CLEAR){var e={id:this.data.id,isDone:!this.data.isDone};return this.$store.dispatch("tasks/update",e).then((function(){return t.options.status=_e.SUCCESS,re.timeDelay((function(){t.resetMode(),t.closeOptions()}),Lt.DELAY_SUCCESS),re.timeDelay((function(){t.resetStatus()}),Lt.DELAY_SUCCESS+Lt.DELAY),t.getLatestProject()})).catch((function(e){return t.handleError(e)}))}},onModeEdit:function(){var t=this;this.edit=this.data.text,this.checkEdit(this.data.text),this.options.mode=Xt.EDIT,this.options.showDelete=!1,this.options.showEdit=!1,this.$nextTick((function(){return t.$refs.itemEdit.focus()}))},onModeDelete:function(){this.options.mode=Xt.DELETE,this.options.showDelete=!1,this.options.showEdit=!1,this.options.isValidEdit=!0},onConfirm:function(t){return t===Xt.EDIT?this.confirmEdit():t===Xt.DELETE?this.confirmDelete():void 0},confirmEdit:function(){var t=this;if(this.options.status===_e.CLEAR&&this.edit!==this.data.text){this.options.status=_e.WAITING;var e={id:this.data.id,text:this.edit};return this.$store.dispatch("tasks/update",e).then((function(){t.options.status=_e.SUCCESS,re.timeDelay((function(){t.resetMode(),t.closeOptions()}),Lt.DELAY_SUCCESS),re.timeDelay((function(){t.resetStatus()}),Lt.DELAY_SUCCESS+Lt.DELAY)})).catch((function(e){return t.handleError(e)}))}},confirmDelete:function(){var t=this;if(this.options.status===_e.CLEAR)return this.options.status=_e.WAITING,this.$store.dispatch("tasks/remove",this.data).then((function(){return t.options.status=_e.SUCCESS,re.timeDelay((function(){t.resetMode(),t.closeOptions()}),Lt.DELAY_SUCCESS),re.timeDelay((function(){t.resetStatus()}),Lt.DELAY_SUCCESS+Lt.DELAY),t.getLatestProject()})).catch((function(e){return t.handleError(e)}))},checkEdit:function(){this.resetStatus(),!this.edit||this.edit.length<4?this.options.isValidEdit=!1:this.options.isValidEdit=this.edit!==this.data.text},openOptions:function(){this.resetMode(),this.resetStatus(),this.$parent.$emit("CLOSE-OPT"),this.options.show=!0,this.options.showEdit=!0,this.options.showDelete=!0,this.options.showClose=!0},closeOptions:function(){this.resetMode(),this.options.show=!1},closeImmediate:function(){this.resetMode(),this.options.show=!1,this.options.showEdit=!1,this.options.showDelete=!1,this.options.showClose=!1},resetStatus:function(){this.options.status=_e.CLEAR},resetMode:function(){this.options.mode=_e.CLEAR},getLatestProject:function(){return this.$store.dispatch("projects/getProjectById",{id:this.data.project})},handleError:function(t){var e=this;this.options.status=_e.ERROR,this.$emit(_e.ERROR,t),this.$store.commit("toasts/toastAdd",t),re.timeDelay((function(){e.resetStatus()}),Lt.DELAY_ERROR)}}},Xs=Gs,qs=Object(m["a"])(Xs,Hs,Ws,!1,null,null,null),zs=qs.exports,Qs={name:"TasksList",components:{TaskItem:zs},computed:{project:function(){return this.$store.getters["projects/current"]},task:function(){return this.$store.getters["tasks/current"]},tasks:function(){return this.$store.getters["tasks/tasks"]}},mounted:function(){return this.getTasksOfProject()},methods:{getTasksOfProject:function(){var t=this;return this.$store.dispatch("tasks/getTasksByUserOrProject",{project:this.project.id}).then((function(t){})).catch((function(e){return t.handleError(e)}))},handleError:function(t){this.status=_e.ERROR,this.$emit(_e.ERROR,t),this.$store.commit("toasts/toastAdd",t)}}},tn=Qs,en=Object(m["a"])(tn,Fs,Ks,!1,null,null,null),sn=en.exports,nn={name:"Home",components:{InputBar:xe,UserInfoMini:Je,ProjectsList:bs,ProjectInfoName:Ms,ProjectTaskSwitch:Zs,TasksList:sn},data:function(){return{mode:Xt.PROJECTS}},computed:{isProjects:function(){return this.mode===Xt.PROJECTS},isTasks:function(){return this.mode===Xt.TASKS}},methods:{}},on=nn,rn=Object(m["a"])(on,Bt,Nt,!1,null,null,null),an=rn.exports,cn="home",un="task",ln="user",dn={HOME:cn,USER:ln,TASK:un};n["a"].use(Mt["a"]);var pn=[{path:"/",name:dn.HOME,component:an}],mn=new Mt["a"]({mode:"history",base:"/",routes:pn}),hn=mn;s("b20f");n["a"].config.productionTip=!1,new n["a"]({router:hn,store:Ut,render:function(t){return t(S)},created:function(){var t=this.$store.getters["user/user"].id;return this.$store.dispatch("projects/getProjectsByUserId",{user:t})}}).$mount("#app")},b20f:function(t,e,s){}});
//# sourceMappingURL=app.7324ba32.js.map