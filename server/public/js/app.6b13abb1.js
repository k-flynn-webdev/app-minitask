(function(t){function e(e){for(var n,a,i=e[0],c=e[1],u=e[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},o={app:0},r=[];function a(t){return i.p+"js/"+({GetUser:"GetUser",User:"User"}[t]||t)+"."+{GetUser:"552ee0db",User:"1e483620"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(t){var e=[],s=o[t];if(0!==s)if(s)e.push(s[2]);else{var n=new Promise((function(e,n){s=o[t]=[e,n]}));e.push(s[2]=n);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=a(t);var u=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(l);var s=o[t];if(0!==s){if(s){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",u.name="ChunkLoadError",u.type=n,u.request=r,s[1](u)}o[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"24d4":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M121.355,170.711l0,-141.422l-70.71,70.711l70.71,70.711Z"}})])},o=[],r=s("2877"),a={},i=Object(r["a"])(a,n,o,!1,null,null,null);e["a"]=i.exports},"28ea":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status-bar ",class:t.statusUpdate})},o=[],r=s("8adc"),a=s("fbc4"),i=s("6ffa"),c={name:"StatusBar",data:function(){return{statusUpdate:i["a"].CLEAR}},props:{status:{type:String,default:i["a"].CLEAR}},watch:{status:function(t,e){var s=e&&e.length>0,n=t&&t.length>0,o=t===e;!s||n?s&&n&&!o?this.delayStatusUpdate(t):this.statusUpdate=t:this.delayComplete()}},methods:{delayComplete:function(){var t=this;this.statusUpdate=i["a"].COMPLETE,r["a"].timeDelay((function(){t.statusUpdate=i["a"].CLEAR}),a["a"].DELAY_SHORT)},delayStatusUpdate:function(t){var e=this;this.statusUpdate=i["a"].CLEAR,r["a"].timeDelay((function(){e.statusUpdate=t}),a["a"].DELAY_BLIP)}}},u=c,l=s("2877"),d=Object(l["a"])(u,n,o,!1,null,null,null);e["a"]=d.exports},"35ca":function(t,e,s){"use strict";var n=s("bc3a"),o=s.n(n),r=s("c0dc"),a="user_token",i="user_payload",c="user_options";function u(){var t=localStorage.getItem(i);if(void 0!==t&&"undefined"!==t&&null!==t)return JSON.parse(t)}function l(t){return t.data&&t.data.data&&t.data.data.account&&t.data.data.account.id?(localStorage.setItem(i,JSON.stringify(t.data.data.account)),t):(localStorage.removeItem(i),t)}function d(){var t=localStorage.getItem(c);if(void 0!==t&&"undefined"!==t&&null!==t)return JSON.parse(t)}function p(t){t?localStorage.setItem(c,JSON.stringify(t)):localStorage.removeItem(c)}function f(){m()}function h(t){return t.data&&t.data.data&&t.data.data.token?(localStorage.setItem(a,t.data.data.token),_(t.data.data.token),t):(localStorage.removeItem(a),v(),t)}function m(){var t=localStorage.getItem(a);t?_(t):v()}function _(t){o.a.defaults.headers.common.authorization="Bearer ".concat(t)}function v(){o.a.defaults.headers.common.authorization=null}function E(){return r["a"].get("/api/user").then((function(t){return l(t)}))}function g(t){return r["a"].get("/api/user/anon/".concat(t.id),{params:{created:t.created}}).then((function(t){return h(t)}))}function C(t){return r["a"].post("/api/user",t).then((function(t){return h(t)})).then((function(t){return l(t)}))}function w(){return r["a"].post("/api/user/anon").then((function(t){return h(t)})).then((function(t){return l(t)}))}function j(t){return r["a"].patch("/api/user/upgrade",t).then((function(t){return h(t)})).then((function(t){return l(t)}))}function b(t){return r["a"].post("/api/user/login",t).then((function(t){return h(t)})).then((function(t){return l(t)}))}function k(){return r["a"].get("/api/user/logout").then((function(t){return h(t)})).then((function(t){return l(t)}))}function S(t){return r["a"].patch("/api/user",t).then((function(t){return h(t)})).then((function(t){return l(t)}))}function O(t){return r["a"].get("/api/user/reset/".concat(t.email)).then((function(t){return h(t)})).then((function(t){return l(t)}))}function T(t){return r["a"].patch("/api/user/reset/".concat(t.verify),t).then((function(t){return h(t)})).then((function(t){return l(t)}))}function D(t){return r["a"].get("/api/user/verify/".concat(t)).then((function(t){return h(t)})).then((function(t){return l(t)}))}f();var A={create:C,createAnon:w,createUpgrade:j,login:b,logout:k,update:S,verify:D,getMeta:E,getAnonApiToken:g,getUser:u,resetStart:O,resetComplete:T,getOptions:d,setOptions:p};if("development"==="production".toLowerCase()){var L=function(t){return r["a"].get("/api/GetUser/".concat(t.user)).then((function(t){return h(t)})).then((function(t){return l(t)}))};A.getUserDev=L}e["a"]=A},4360:function(t,e,s){"use strict";var n=s("2b0e"),o=s("2f62"),r=(s("4160"),s("4fad"),s("159b"),s("3835")),a=s("35ca"),i=s("fbc4"),c=s("6ffa");function u(){var t=a["a"].getUser();return void 0!==t?t:i["a"].DEFAULT_USER()}function l(){var t=i["a"].DEFAULT_USER_OPTIONS(),e=a["a"].getOptions();return e?(Object.entries(e).forEach((function(e){var s=Object(r["a"])(e,2),o=s[0],a=s[1];n["a"].set(t,o,a)})),t):t}var d={namespaced:!0,state:{user:u(),options:l(),totals:i["a"].DEFAULT_TOTALS()},getters:{isAnon:function(t){return t.user.role===c["a"].ANON&&-1!==t.user.id},isUser:function(t){return t.user.role===c["a"].USER},isAdmin:function(t){return t.user.role===c["a"].ADMIN},isValidUser:function(t){return!(t.user.id<0)},isLoggedIn:function(t,e){return e.isUser||e.isAdmin}},mutations:{user:function(t,e){Object.entries(e).forEach((function(e){var s=Object(r["a"])(e,2),o=s[0],a=s[1];n["a"].set(t.user,o,a)}))},options:function(t,e){Object.entries(e).forEach((function(e){var s=Object(r["a"])(e,2),o=s[0],a=s[1];n["a"].set(t.options,o,a)})),e&&a["a"].setOptions(t.options)},totals:function(t,e){Object.entries(e).forEach((function(e){var s=Object(r["a"])(e,2),o=s[0],a=s[1];n["a"].set(t.totals,o,a)}))}},actions:{get:function(t){return a["a"].getMeta().then((function(e){return t.commit("totals",e.data.data.totals),t.commit("user",e.data.data.account),e}))},getAnonToken:function(t){var e={id:t.state.user.id,created:t.state.user.meta.created};return a["a"].getAnonApiToken(e).then((function(t){return t}))},login:function(t,e){return a["a"].login(e).then((function(e){return t.commit("user",e.data.data.account),e}))},logout:function(t){return!t.getters.isAnon&&a["a"].logout().then((function(){return t.commit("user",i["a"].DEFAULT_USER()),t.commit("tasks/setTasks",[],{root:!0}),t.commit("tasks/setHistory",null,{root:!0}),t.commit("projects/setProjects",[],{root:!0}),t.commit("projects/setHistory",null,{root:!0}),!0}))},create:function(t,e){return a["a"].create(e).then((function(e){return t.commit("user",e.data.data.account),e}))},verify:function(t,e){return a["a"].verify(e).then((function(e){return t.commit("user",e.data.data.account),e}))},createAnon:function(t){return a["a"].createAnon().then((function(e){return t.commit("user",e.data.data.account),e}))},createUpgrade:function(t,e){return a["a"].createUpgrade(e).then((function(e){return t.commit("user",e.data.data.account),e}))},update:function(t,e){return a["a"].update(e).then((function(e){return t.commit("user",e.data.data.account),e}))},resetStart:function(t,e){return a["a"].resetStart(e).then((function(t){return t}))},resetComplete:function(t,e){return a["a"].resetComplete(e).then((function(t){return t}))}}},p=(s("4de4"),-1),f=null,h=4,m=1e3;function _(t){p+=1;var e=t.title?t.title:"",s=t.data&&t.data.message?t.data.message:t.message,n=t.response&&t.response.data?t.response.data.message:s,o=!0;void 0!==t.isError&&(o=t.isError);var r=!!t.isTimed&&t.isTimed,a=function(){return t.isTimed?h:-1};return{id:p,title:e,message:n,isError:o,isTimed:r,time:a()}}function v(t){f||(f=setTimeout((function(){g(t)}),m))}function E(){clearTimeout(f),f=null}function g(t){for(var e=!0,s=t.toasts.length-1;s>=0;s--)t.toasts[s].isTimed&&t.toasts[s].time>=0&&(t.toasts[s].time-=1,t.toasts[s].isTimed&&t.toasts[s].time<0&&n["a"].delete(t.toasts,s),e=!1);e?E():(f=null,v(t))}var C={namespaced:!0,state:{toasts:[]},getters:{toasts:function(t){return t.toasts},toast:function(t){return function(e){return t.toasts.filter((function(t){return t.id===e}))}}},mutations:{toastAdd:function(t,e){var s=_(e);return t.toasts.push(s),s.isTimed>=0&&v(t),e},toastRemove:function(t,e){for(var s=0,o=t.toasts.length;s<o;s++)if(t.toasts[s].id===e.id)return n["a"].delete(t.toasts,s),e},toastRemoveAll:function(t){n["a"].set(t,"toasts",[])}},actions:{}},w=(s("7db0"),s("a434"),s("c0dc"));function j(t){return w["a"].get("/api/tasks",{params:t})}function b(t){return w["a"].get("/api/task/".concat(t.id))}function k(t){return w["a"].post("/api/task/create",t)}function S(t){return w["a"].patch("/api/task/".concat(t.id),t)}function O(t){return w["a"].put("/api/task/".concat(t.id),t)}function T(t){return w["a"].remove("/api/task/".concat(t.id),t)}var D={all:j,get:b,create:k,update:S,replace:O,remove:T},A=D,L=s("8adc"),R=i["a"].DEFAULT_TASK_HISTORY(),x={namespaced:!0,state:{tasks:[],history:i["a"].DEFAULT_TASK_HISTORY()},getters:{history:function(t){return t.history},tasksNotDone:function(t){return t.tasks.filter((function(t){return!t.doneDate}))},tasksDone:function(t){return t.tasks.filter((function(t){return t.doneDate&&t.doneDate.length>5}))},tasks:function(t){return t.tasks},findTask:function(t){return function(e){return t.tasks.find((function(t){return t.id===e}))}}},mutations:{setHistory:function(t,e){e||(e=i["a"].DEFAULT_TASK_HISTORY()),Object.entries(e).forEach((function(e){var s=Object(r["a"])(e,2),o=s[0],a=s[1];void 0!==R[o]&&n["a"].set(t.history,o,a)}))},taskAdd:function(t,e){return t.tasks.unshift(e),e},taskPatch:function(t,e){for(var s=0,n=t.tasks.length;s<n;s++)if(t.tasks[s].id===e.id){var o=Object.assign(t.tasks[s],e);return t.tasks.splice(s,1,o),t.tasks[s]}},taskReplace:function(t,e){for(var s=0,n=t.tasks.length;s<n;s++)if(t.tasks[s].id===e.id)return t.tasks.splice(s,1,e),t.tasks[s];t.tasks.unshift(e)},taskRemove:function(t,e){for(var s=0,n=t.tasks.length;s<n;s++)if(t.tasks[s].id===e.id)return t.tasks.splice(s,1),e},setTasks:function(t,e){e||(e=[]),n["a"].set(t,"tasks",e)}},actions:{create:function(t,e){return A.create(e).then((function(e){return t.commit("taskAdd",e.data.data.task)}))},update:function(t,e){return A.update(e).then((function(s){return void 0!==e.isDone?(L["a"].timeDelay((function(){t.commit("taskReplace",s.data.data.task)}),i["a"].DELAY_SUCCESS),s.data.data.task):t.commit("taskReplace",s.data.data.task)}))},remove:function(t,e){return A.remove(e).then((function(){return t.commit("taskRemove",e)}))},getTasksByProjectId:function(t,e){return A.all(e).then((function(e){return e.data.data.tasks.length>0&&t.commit("setTasks",e.data.data.tasks),e.data.data.tasks}))}}};function y(t){return w["a"].get("/api/projects",{params:t})}function I(t){return w["a"].get("/api/project/".concat(t.id))}function $(t){return w["a"].post("/api/project/create",t)}function U(t){return w["a"].patch("/api/project/".concat(t.id),t)}function P(t){return w["a"].remove("/api/project/".concat(t.id))}var N={all:y,get:I,create:$,update:U,remove:P},B=N,M=i["a"].DEFAULT_PROJECT_HISTORY(),V={namespaced:!0,state:{projects:[],current:i["a"].DEFAULT_PROJECT(),history:i["a"].DEFAULT_PROJECT_HISTORY()},getters:{current:function(t){return t.current},history:function(t){return t.history},projects:function(t){return t.projects},projectsNotDone:function(t){return t.projects.filter((function(t){return!t.doneDate}))},projectsDone:function(t){return t.projects.filter((function(t){return t.doneDate&&t.doneDate.length>5}))},findProject:function(t){return function(e){return t.projects.find((function(t){return t.id===e}))}}},mutations:{setHistory:function(t,e){e||(e=i["a"].DEFAULT_PROJECT_HISTORY()),Object.entries(e).forEach((function(e){var s=Object(r["a"])(e,2),o=s[0],a=s[1];void 0!==M[o]&&n["a"].set(t.history,o,a)}))},projectCurrent:function(t,e){n["a"].set(t,"current",e)},projectAdd:function(t,e){return t.projects.unshift(e),e},projectPatch:function(t,e){for(var s=0,n=t.projects.length;s<n;s++)if(t.projects[s].id===e.id){var o=Object.assign(t.projects[s],e);return t.projects.splice(s,1,o),t.projects[s]}},projectReplace:function(t,e){for(var s=0,n=t.projects.length;s<n;s++)if(t.projects[s].id===e.id)return t.projects.splice(s,1,e),t.projects[s];t.projects.unshift(e)},projectRemove:function(t,e){for(var s=0,n=t.projects.length;s<n;s++)if(t.projects[s].id===e.id)return t.projects.splice(s,1),e},setProjects:function(t,e){e||(e=[]),n["a"].set(t,"projects",e)}},actions:{create:function(t,e){return B.create(e).then((function(e){return t.commit("projectAdd",e.data.data.project),t.commit("projectCurrent",e.data.data.project),e.data.data.project}))},update:function(t,e){return B.update(e).then((function(s){if(t.commit("projectReplace",s.data.data.project),t.getters.current.id===e.id)return t.commit("projectCurrent",s.data.data.project),s.data.data.project}))},remove:function(t,e){return B.remove(e).then((function(){if(t.commit("projectRemove",e),t.getters.current.id===e.id)return t.commit("projectCurrent",t.getters.projects[0])}))},getProjectById:function(t,e){return B.get(e).then((function(e){return t.commit("projectReplace",e.data.data.project),t.commit("projectCurrent",e.data.data.project),e.data.data.project}))},getProjectsByUserId:function(t,e){return B.all(e).then((function(e){return e.data.data.projects.length>0&&(t.commit("setProjects",e.data.data.projects),t.state.current.id<0&&t.commit("projectCurrent",e.data.data.projects[0])),e.data.data.projects}))}}};n["a"].use(o["a"]);e["a"]=new o["a"].Store({state:{ready:!1,status:c["a"].CLEAR},getters:{status:function(t){return t.status},ready:function(t){return t.ready}},mutations:{ready:function(t,e){t.ready=e},status:function(t,e){t.status=e,e!==c["a"].CLEAR&&L["a"].timeDelay((function(){t.status=c["a"].CLEAR}),1.1*i["a"].DELAY_SUCCESS)}},actions:{},modules:{toasts:C,user:d,tasks:x,projects:V}})},"56d7":function(t,e,s){"use strict";s.r(e);s("d3b7"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task",class:{"show-toast":t.hasToast,"show-settings":t.displaySettings},attrs:{id:"app"}},[s("ToastHolder"),s("AppSettings",{model:{value:t.displaySettings,callback:function(e){t.displaySettings=e},expression:"displaySettings"}}),s("StatusBar",{staticClass:"top",attrs:{status:t.appStatus}}),s("router-view"),s("Footer")],1)},r=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toast__holder",class:{SHOW:t.Toasts.length>0}},[s("div",{staticClass:"toast__holder__body"},t._l(t.Toasts,(function(t){return s("Toast",{key:t.id,attrs:{data:t}})})),1)])},i=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toast__message",class:{ERROR:t.isError}},[s("div",{staticClass:"toast__message__content "},[s("p",{staticClass:"text-bold md color-bg"},[t._v(" "+t._s(t.data.title)+" ")]),s("p",{staticClass:"text-bold color-bg"},[t._v(" "+t._s(t.data.message)+" ")])]),s("br"),s("button",{on:{click:t.closeToast}},[s("p",{staticClass:"color-fore"},[t._v("OK")])])])},u=[];function l(){return{id:-1,title:"",message:"",status:"",isError:!1,isTimed:!1,time:-1}}var d={name:"Toast",props:{data:l()},computed:{isError:function(){return!0===this.data.isError}},methods:{closeToast:function(){this.$store.commit("toasts/toastRemove",this.data)}}},p=d,f=s("2877"),h=Object(f["a"])(p,c,u,!1,null,null,null),m=h.exports,_={name:"ToastHolder",components:{Toast:m},computed:{Toasts:function(){return this.$store.getters["toasts/toasts"]}},methods:{clearAllToasts:function(){this.$store.commit("toasts/toastRemoveAll")}}},v=_,E=Object(f["a"])(v,a,i,!1,null,null,null),g=E.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[t.value?t._e():s("button",{staticClass:"settings__btn",attrs:{title:"settings"},on:{click:t.toggle}},[s("icOptions",{staticClass:"icon-90"})],1),t.value?s("div",{staticClass:"settings__fullscreen-click",on:{click:t.toggle}}):t._e(),t.value?s("div",{staticClass:"settings__holder"},[s("button",{staticClass:"settings__btn is-close",attrs:{title:"settings"},on:{click:t.toggle}},[s("icClose",{staticClass:"icon-90 fill-bg"})],1),s("ul",[s("li",{staticClass:"label"},[t._v("User")]),t.isLoggedIn?t._e():s("li",{on:{click:t.toggle}},[s("router-link",{attrs:{to:{name:"user.create"}}},[t._v(" Create ")])],1),t.isLoggedIn?t._e():s("li",{on:{click:t.toggle}},[s("router-link",{attrs:{to:{name:"user.login"}}},[t._v(" Login ")])],1),t.isLoggedIn?s("li",[s("button",{staticClass:"button",attrs:{title:"Logout"},on:{click:t.logout}},[t._v(" Logout ")])]):t._e(),s("li",{staticClass:"label"},[t._v("Projects")]),s("li",[s("label",{staticClass:"show-label clickable"},[s("span",{staticClass:"color-bg text-bold"},[t._v("Show Done")]),s("input",{attrs:{type:"checkbox"},domProps:{value:t.optProject.showDone},on:{click:t.toggleProjectsShowDone}}),s("span",{staticClass:"display-inline-b align-middle hover"},[s("icDone",{class:[t.optProject.showDone?"fill-bg":"fill-mid alpha"]})],1)])]),s("li",{staticClass:"label"},[t._v("Tasks")]),s("li",[s("label",{staticClass:"show-label clickable"},[s("span",{staticClass:"color-bg text-bold"},[t._v("Show Done")]),s("input",{attrs:{type:"checkbox"},domProps:{value:t.optTasks.showDone},on:{click:t.toggleTasksShowDone}}),s("span",{staticClass:"display-inline-b align-middle hover"},[s("icDone",{class:[t.optTasks.showDone?"fill-bg":"fill-mid alpha"]})],1)])]),s("li",{staticClass:"label"},[t._v("Sort")]),t._l(t.sortArray,(function(e,n){return s("li",{key:n,staticClass:"li-min"},t._l(e,(function(e,n){return s("label",{key:e,staticClass:"show-label clickable",class:{"label-right":n>0},on:{click:function(s){return t.toggleSort(e)}}},[s("span",{staticClass:"color-bg text-bold name",class:{alpha:t.currentSort!==e}},[t._v(" "+t._s(e)+" ")]),t.currentSort===e?s("span",{staticClass:"display-inline-b align-middle settings__holder__sort-item-arrow"},[s("icLeft",{staticClass:"fill-bg transition-slow",class:[t.optSort.asc?"rot-90":"rot-270"]})],1):t._e()])})),0)}))],2)]):t._e()])},w=[],j=s("5530"),b=s("5dff"),k=s("6ffa"),S=s("8adc"),O=s("fbc4"),T=s("62b5"),D=s("b05c"),A=s("fb6e"),L=s("24d4"),R=s("2f62"),x=["created","updated","done","scale"],y={name:"AppSettings",components:{icLeft:L["a"],icDone:T["a"],icClose:D["a"],icOptions:A["a"]},props:{value:{type:Boolean,default:!1}},computed:Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(R["c"])("user",{options:function(t){return t.options},optSort:function(t){return t.options.sort},optTasks:function(t){return t.options.tasks},optProject:function(t){return t.options.projects}})),Object(R["b"])({isLoggedIn:"user/isLoggedIn"})),{},{sortArray:function(){for(var t=[],e=0;e<x.length;e+=2)t.push([x[e],x[e+1]]);return t},currentSort:function(){return this.optSort.type}}),methods:{toggle:function(){this.$emit("input",!this.value)},toggleProjectsShowDone:function(){this.$store.commit("user/options",{projects:{showDone:!this.optProject.showDone}})},toggleTasksShowDone:function(){this.$store.commit("user/options",{tasks:{showDone:!this.optTasks.showDone}})},toggleSort:function(t){var e=!0;t===this.currentSort&&(e=!this.optSort.asc),this.$store.commit("user/options",{sort:{asc:e,type:t}})},logout:function(){var t=this;return this.$store.dispatch("user/logout").then((function(e){return t.handleSuccess(e)})).catch((function(e){return t.handleError(e)}))},handleSuccess:function(){var t=this;S["a"].timeDelay((function(){t.toggle(),t.$router.push({name:b["a"].HOME})}),O["a"].DELAY_SUCCESS)},handleError:function(t){this.$emit(k["a"].ERROR,t),this.$router.push({name:b["a"].HOME})}}},I=y,$=Object(f["a"])(I,C,w,!1,null,null,null),U=$.exports,P=s("28ea"),N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"parent"},[s("div",{ref:"footer",staticClass:"task__footer"},[s("div",{staticClass:"task__footer__content"},[t._v(" Made with "),s("svg",{staticClass:"icon",attrs:{viewBox:"0 0 907 828"}},[s("path",{attrs:{d:"M730.084,312.85c4.226,113.133 -40.828,236.381 -79.883,320.702c-29.137,63.033 -92.165,103.467 -161.607,103.675c-58.148,0.184 -129.832,0.398 -188.066,0.573c-68.886,0.206 -131.752,-39.215 -161.569,-101.314c-43.597,-90.793 -96.522,-224.663 -88.059,-325.713"}}),s("path",{attrs:{d:"M710,410.13l137.329,0c0,0 27.947,188.444 -226.001,233.406"}})]),t._v(" by "),s("a",{attrs:{rel:"noreferrer",target:"_blank",href:"https://github.com/k-flynn-webdev"}},[t._v(" k-flynn-webdev ")]),s("div",{staticClass:"task__footer__content-version"},[s("small",[t._v(" alpha "+t._s(t.version)+" ")])])])])])},B=[],M={name:"Footer",computed:{version:function(){return"0.5.0"}},mounted:function(){document.body.appendChild(this.$refs.footer)},beforeDestroy:function(){document.body.removeChild(this.$refs.footer),this.$refs.parent.appendChild(this.$refs.footer)}},V=M,H=Object(f["a"])(V,N,B,!1,null,null,null),F=H.exports,Y={name:"App",components:{AppSettings:U,ToastHolder:g,StatusBar:P["a"],Footer:F},data:function(){return{displaySettings:!1}},computed:{appStatus:function(){return this.$store.getters.status},hasToast:function(){return this.$store.getters["toasts/toasts"].length>0}}},J=Y,K=Object(f["a"])(J,o,r,!1,null,null,null),G=K.exports,W=s("4360"),Z=s("a18c");s("b20f");n["a"].config.productionTip=!0,new n["a"]({router:Z["a"],store:W["a"],render:function(t){return t(G)},created:function(){var t=this,e=this.$store.state.user.user;if(!(e.id<0)){var s=Promise.resolve();return e.role===k["a"].ANON&&(s=this.$store.dispatch("user/getAnonToken")),s.then((function(){return t.$store.dispatch("user/get")})).then((function(){t.$store.commit("ready",!0)})).catch((function(e){return t.$store.commit("toasts/toastAdd",e)}))}}}).$mount("#app")},"5dff":function(t,e,s){"use strict";var n="home",o="tasks",r="task",a="projects",i="project",c="project.tasks",u="user",l="missing",d="user.create",p="user.login",f="user.logout",h="user.verify",m="user.reset",_="user.reset.password";e["a"]={HOME:n,MISSING:l,USER:u,USER_CREATE:d,USER_LOGIN:p,USER_LOGOUT:f,USER_RESET:m,USER_VERIFY:h,USER_RESET_PASSWORD:_,TASK:r,TASKS:o,PROJECT:i,PROJECTS:a,PROJECT_TASKS:c}},"62b5":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M79.623,182.472l-79.454,-79.454l40.754,-40.754l38.7,38.699l79.454,-79.454l40.754,40.755l-120.208,120.208Z"}})])},o=[],r=s("2877"),a={},i=Object(r["a"])(a,n,o,!1,null,null,null);e["a"]=i.exports},"6ffa":function(t,e,s){"use strict";var n="",o="WAITING",r="SUCCESS",a="DISABLED",i="NOT_READY",c="READY",u="ERROR",l="OPEN",d="CLOSE",p="anon",f="user",h="admin",m="COMPLETE",_="SELECT",v="RESET",E="VALUE",g="INPUT",C="EDIT",w="CLICK";e["a"]={READY:c,NOT_READY:i,RESET:v,CLEAR:n,WAITING:o,SUCCESS:r,DISABLED:a,ERROR:u,OPEN:l,CLOSE:d,SELECT:_,COMPLETE:m,VALUE:E,ANON:p,USER:f,ADMIN:h,INPUT:g,EDIT:C,CLICK:w}},"8adc":function(t,e,s){"use strict";s("99af"),s("d3b7"),s("ac1f"),s("25f0"),s("5319");var n=function(t,e){return setTimeout((function(){t()}),e)},o=function(t){var e=t.toString().replace(/\D/g,"");return e.length>0},r=function(t){if(!t)return"No date";var e=new Date(t);return e.toLocaleDateString()},a=function(t){if(!t)return"No date";var e=new Date(t),s=e.getHours(),n=s>12;n&&(s-=12),s<10&&(s="0"+s);var o=n?" pm":" am",r=e.getMinutes();return r<10&&(r="0"+r),s+":"+r+o},i=function(t){return r(t)+" "+a(t)},c=["",""],u=function(t){var e=t.tasksDone,s=t.tasksTotal;return"".concat(c[0]).concat(e,"/").concat(s).concat(c[1])},l=function(t){var e=t.tasksDone,s=t.tasksTotal;if(!s||0===s)return"0%";if(!e||0===e)return"0%";var n=Math.floor(e/s*100);return"".concat(c[0]).concat(n.toString(),"%").concat(c[1])},d={timeDelay:n,HasNumbers:o,renderDate:r,renderTime:a,renderDateTime:i,renderProgressNum:u,renderProgressPercent:l};e["a"]=d},a18c:function(t,e,s){"use strict";s("a9e3"),s("d3b7");var n,o,r,a,i=s("2b0e"),c=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative"},[s("Header",{attrs:{mode:t.mode}}),s("router-view")],1)},l=[],d=s("5530"),p=s("b6dd"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative"},[s("div",{staticClass:"task__project__header"},[s("ProjectInfoName",{attrs:{mode:t.mode}})],1),s("div",{staticClass:"task__project__header__controls"},[s("div",{staticClass:"flex-row"},[s("ProjectTaskSwitch",{attrs:{mode:t.mode,"is-enabled":t.isValidUser}}),s("UserInfoMini",{attrs:{"is-enabled":t.isValidUser}})],1),s("InputBar",{attrs:{mode:t.mode,"is-enabled":t.isValidUser}})],1)])},h=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__header__controls__input-bar"},[s("form",{staticClass:"relative",on:{submit:function(e){return e.preventDefault(),t.submitInput(e)}}},[s("StatusBar",{attrs:{status:t.status}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"itemInput",class:[t.status,t.allowInput?"":"DISABLED"],attrs:{required:"",type:"text",minlength:"4",tabindex:[t.allowInput?0:-1],placeholder:t.placeHolder},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},t.resetStatus]}})],1),s("button",{staticClass:"no-margin-x text-right",class:[t.status,t.isValid?"":"DISABLED",t.allowInput?"":"DISABLED"],attrs:{"aria-label":"submit",title:"submit",tabindex:[t.allowInput?0:-1]},on:{click:t.submitInput}},[s("icTick",{staticClass:"md",attrs:{alt:"submit"}})],1)])},_=[],v=s("8adc"),E=s("fbc4"),g=s("6ffa"),C=s("28ea"),w=s("62b5"),j=s("ec41"),b=s("2f62"),k={name:"InputBar",components:{icTick:w["a"],StatusBar:C["a"]},props:{mode:{type:String,default:p["a"].CLEAR},isEnabled:{type:Boolean,default:!0}},data:function(){return{input:g["a"].CLEAR,status:g["a"].CLEAR,isDisabled:!1}},computed:Object(d["a"])(Object(d["a"])({},Object(b["c"])("user",{userId:function(t){return t.user.id}})),{},{allowInput:function(){return this.mode!==p["a"].CLEAR&&(!this.isDisabled&&this.isEnabled)},isValid:function(){return this.input.length>=4},project:function(){return this.$store.getters["projects/current"]},placeHolder:function(){return this.mode===p["a"].TASKS?"Add a new task":"Add a new project"}}),watch:{mode:function(t,e){this.status=g["a"].CLEAR,t===p["a"].TASKS&&this.project.id<0&&(this.status=g["a"].DISABLED)}},mounted:function(){this.$root.$on(g["a"].EDIT.toLowerCase(),this.disableInput)},beforeDestroy:function(){this.$root.$off(g["a"].EDIT.toLowerCase(),this.disableInput)},methods:{reset:function(){this.input=g["a"].CLEAR,this.resetStatus()},resetStatus:function(){this.status=g["a"].CLEAR},disableInput:function(t){this.isDisabled=t},submitInput:function(){var t=this;if(this.isValid&&this.allowInput&&this.status===g["a"].CLEAR){this.status=g["a"].WAITING;var e="projects/create",s={user:this.userId,name:this.input};return this.mode===p["a"].TASKS&&(e="tasks/create",s={user:this.userId,project:this.project.id,text:this.input}),this.$store.dispatch(e,s).then((function(e){if(t.input=g["a"].CLEAR,t.status=g["a"].SUCCESS,t.$emit(g["a"].SUCCESS,e),v["a"].timeDelay((function(){t.reset()}),E["a"].DELAY_SUCCESS),t.$nextTick((function(){return t.$refs.itemInput.blur()})),t.mode===p["a"].TASKS)return t.getLatestProject()})).catch((function(e){return t.handleError(e,t.submitInput)}))}},getLatestProject:function(){return this.$store.dispatch("projects/getProjectById",{id:this.project.id})},handleError:function(t,e){var s=Object(j["a"])(t,"response.status");if(s&&401===s&&this.$store.getters["user/isAnon"]&&e)return e();throw this.status=g["a"].ERROR,this.$emit(g["a"].ERROR,t),this.$store.commit("toasts/toastAdd",t),t}}},S=k,O=s("2877"),T=Object(O["a"])(S,m,_,!1,null,null,null),D=T.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticClass:"task__project__header__user",class:{DISABLED:!t.isEnabled},attrs:{to:"/user",tabindex:[t.isEnabled?0:-1],title:"go to user"}},[s("div",{staticClass:"flex-row no-wrap"},[s("p",{staticClass:"task__project__header__user-name upper text-bold hide-sm-down"},[t._v(" "+t._s(t.userName)+" ")]),t.isUser&&t.isLoggedIn?s("icUser",{staticClass:"task__project__header__user-icon",class:{DISABLED:!t.isEnabled}}):t._e(),t.isAnon?s("icUserAnon",{staticClass:"task__project__header__user-icon",class:{DISABLED:!t.isEnabled}}):t._e(),t.user.id<0?s("icUserNone",{staticClass:"task__project__header__user-icon",class:{DISABLED:!t.isEnabled}}):t._e()],1)])},L=[],R=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M52.923,136.896c0,0 -11.002,-76.303 -8.308,-98.12c1.672,-13.535 11.728,-27.941 24.477,-32.785c14.382,-5.464 47.434,-5.464 61.816,0c12.749,4.844 22.805,19.25 24.477,32.785c2.694,21.817 -8.308,98.12 -8.308,98.12c0,0 29.396,13.337 36,23.539c6.603,10.202 6.923,39.565 6.923,39.565l-180,0c0,0 0.32,-29.363 6.923,-39.565c6.604,-10.202 36,-23.539 36,-23.539Zm29.769,-46.006c5.77,-3.462 28.846,-3.462 34.616,0c5.769,3.461 5.769,17.308 0,20.769c-5.77,3.462 -28.846,3.462 -34.616,0c-5.769,-3.461 -5.769,-17.308 0,-20.769Zm35.197,-42.984c3.461,-3.462 17.307,-3.462 20.769,0c3.461,3.461 3.461,17.308 0,20.769c-3.462,3.462 -17.308,3.462 -20.769,0c-3.462,-3.461 -3.462,-17.308 0,-20.769Zm-56.547,0c3.462,-3.462 17.308,-3.462 20.769,0c3.462,3.461 3.462,17.308 0,20.769c-3.461,3.462 -17.307,3.462 -20.769,0c-3.461,-3.461 -3.461,-17.308 0,-20.769Z"}})])}),x=[],y={},I=Object(O["a"])(y,R,x,!1,null,null,null),$=I.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M30.617,151.405c0.716,-15.561 3.928,-18.37 8.782,-39.651c3.642,-15.969 7.291,-31.937 10.656,-47.966c3.717,-17.705 3.881,-50.931 25.566,-59.763c11.633,-4.738 26.668,-4.535 38.838,-2.748c3.759,0.552 7.543,1.315 11.062,2.748c21.754,8.861 23.602,42.01 25.544,60.014c1.909,17.706 4.049,32.439 9.067,54.558c4.932,21.739 8.301,25.659 10.485,50.259c1.527,17.206 -7.05,27.024 -16.296,27.549c-8.425,0.478 -12.911,-8.499 -14.995,-16.75c-11.397,20.061 -40.073,18.171 -47.223,-6.821c-6.114,11.044 -17.466,13.721 -25.503,5.091c-3.336,9.53 -12.025,13.6 -20.918,11.834c-8.837,-1.755 -16.207,-13.532 -15.065,-38.354Zm47.991,-106.796c9.561,0 14.512,11.949 7.749,18.712c-0.994,0.994 -2.187,1.804 -3.484,2.35c-1.359,0.572 -2.79,0.862 -4.265,0.862c-1.476,0 -2.906,-0.29 -4.265,-0.862c-1.297,-0.546 -2.49,-1.356 -3.485,-2.35c-6.762,-6.763 -1.811,-18.712 7.75,-18.712Zm43.926,0c1.476,0 2.906,0.29 4.265,0.862c1.297,0.547 2.49,1.356 3.485,2.351c6.762,6.762 1.811,18.711 -7.75,18.711c-1.475,0 -2.906,-0.29 -4.265,-0.862c-1.297,-0.546 -2.49,-1.356 -3.485,-2.35c-6.762,-6.763 -1.811,-18.712 7.75,-18.712Z"}})])},P=[],N={},B=Object(O["a"])(N,U,P,!1,null,null,null),M=B.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M60.089,136.594c-1.651,-8.807 -3.303,-17.618 -4.617,-26.481c-1.122,-7.573 -2.172,-15.17 -2.686,-22.808c-1.819,-27.032 -1.524,-70.382 31.012,-79.525c5.112,-1.437 10.481,-2.091 15.791,-2.091c5.324,0 10.707,0.658 15.834,2.091c32.704,9.139 33.811,52.156 31.969,79.525c-0.514,7.638 -1.564,15.235 -2.686,22.808c-1.314,8.863 -2.966,17.674 -4.617,26.481c6.405,2.523 12.817,5.048 19.062,7.943c6.278,2.91 19.332,9.133 24.015,15.595c3.645,5.03 5.373,18.23 5.938,23.609c0.557,5.299 0.771,10.632 0.985,15.956l-180,0c0.214,-5.324 0.428,-10.657 0.985,-15.956c0.565,-5.379 2.293,-18.579 5.938,-23.609c4.684,-6.462 17.737,-12.685 24.015,-15.595c6.245,-2.895 12.657,-5.42 19.062,-7.943Z"}})])},H=[],F={},Y=Object(O["a"])(F,V,H,!1,null,null,null),J=Y.exports,K={name:"UserInfoMini",components:{icUser:$,icUserAnon:M,icUserNone:J},props:{isEnabled:{type:Boolean,default:!0}},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(b["c"])("user",{user:function(t){return t.user}})),Object(b["b"])({isAnon:"user/isAnon",isUser:"user/isUser",isLoggedIn:"user/isLoggedIn"})),{},{userName:function(){return this.isEnabled?this.user.name:"..."}})},G=K,W=Object(O["a"])(G,A,L,!1,null,null,null),Z=W.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__header__info",attrs:{title:"click to toggle between % or total"},on:{click:function(e){t.showTotals=!t.showTotals}}},[s("p",{staticClass:"task__project__header__info-name name text-bold"},[t._v(" "+t._s(t.projectName)+" ")]),s("p",{staticClass:"task__project__header__info-count text-bold"},[t._v(" "+t._s(t.progress)+" ")])])},X=[],z={name:"ProjectInfoName",data:function(){return{showTotals:!0}},props:{mode:{type:String,default:p["a"].CLEAR}},computed:{ready:function(){return this.$store.getters.ready},project:function(){return this.$store.getters["projects/current"]},showName:function(){return this.mode!==p["a"].CLEAR&&this.ready&&this.project},projectName:function(){return this.showName?this.project.name:"MiniTask .."},progress:function(){if(this.showName)return this.showTotals?v["a"].renderProgressNum(this.project):v["a"].renderProgressPercent(this.project)}}},Q=z,tt=Object(O["a"])(Q,q,X,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__header__controls__switch"},[s("button",{staticClass:"task__project__header__controls__switch-projects",class:{ACTIVE:t.isProjects,DISABLED:!t.isEnabled,HIGHLIGHT:t.highLight},attrs:{tabindex:[t.allowInput&&!t.isProjects?0:-1]},on:{click:t.showProjects}},[t._v(" projects ")]),s("button",{staticClass:"task__project__header__controls__switch-tasks",class:{ACTIVE:t.isTasks,DISABLED:!t.isEnabled},attrs:{tabindex:[t.allowInput&&t.isProjects?0:-1]},on:{click:t.showTasks}},[t._v(" tasks ")])])},nt=[],ot=s("5dff"),rt={name:"ProjectTaskSwitch",props:{mode:{type:String,default:p["a"].CLEAR},isEnabled:{type:Boolean,default:!0}},computed:Object(d["a"])(Object(d["a"])({},Object(b["b"])({project:"projects/current",isValidUser:"user/isValidUser"})),{},{highLight:function(){return this.$route.name===ot["a"].HOME&&this.isValidUser},allowInput:function(){return this.isEnabled},isTasks:function(){return this.mode===p["a"].TASKS},isProjects:function(){return this.mode===p["a"].PROJECTS}}),methods:{showTasks:function(){this.isTasks||this.project&&this.project.id&&this.$router.push({name:ot["a"].PROJECT_TASKS,params:{project:this.project.id}})},showProjects:function(){this.isProjects||this.$router.push({name:ot["a"].PROJECTS})}}},at=rt,it=Object(O["a"])(at,st,nt,!1,null,null,null),ct=it.exports,ut={name:"Header",components:{InputBar:D,UserInfoMini:Z,ProjectInfoName:et,ProjectTaskSwitch:ct},props:{mode:{type:String,default:g["a"].CLEAR}},computed:Object(d["a"])({},Object(b["b"])({isValidUser:"user/isValidUser"}))},lt=ut,dt=Object(O["a"])(lt,f,h,!1,null,null,null),pt=dt.exports,ft=(s("4de4"),s("b64b"),{created:"created",updated:"updated",done:"doneDate",scale:""}),ht={name:"ProjectMixin",computed:Object(d["a"])({},Object(b["c"])("user",{user:function(t){return t.user},sortAsc:function(t){return t.options.sort.asc},sortType:function(t){return t.options.sort.type},showDone:function(t){return t.options.projects.showDone}})),methods:{createParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return{user:this.user.id,showDone:!!this.showDone&&void 0,sortAsc:!!this.sortAsc||void 0,sortType:ft[this.sortType],config:t}},getProjects:function(t){var e=this.$store.getters["projects/history"],s=Object.keys(e).filter((function(s){return Object(j["a"])(e,s)!==Object(j["a"])(t,s)})).length<1;return s?Promise.resolve([]):(e.user!==this.user&&this.$store.commit("projects/setProjects",[]),this.$store.commit("projects/setHistory",t),this.$store.dispatch("projects/getProjectsByUserId",t))}}},mt=ht,_t=Object(O["a"])(mt,n,o,!1,null,null,null),vt=_t.exports,Et={name:"Home",components:{Header:pt},mixins:[vt],props:{mode:{type:String,default:p["a"].CLEAR}},computed:Object(d["a"])({},Object(b["b"])({isValidUser:"user/isValidUser"})),watch:{isValidUser:{handler:"fetchList",immediate:!0}},methods:{fetchList:function(){var t=this;if(this.isValidUser){var e=this.createParams();return this.getProjects(e).then((function(){return t.init()})).catch((function(e){return t.handleError(e,t.fetchList)}))}},init:function(){var t=Number(Object(j["a"])(this.$route,"params.project"));if(t){var e=this.$store.getters["projects/findProject"](t),s=!(!e||e.id<0);if(!s)return this.$store.dispatch("projects/getProjectById",{id:t});this.$store.commit("projects/projectCurrent",e)}},handleError:function(t,e){var s=Object(j["a"])(t,"response.status");if(s&&401===s&&this.$store.getters["user/isAnon"]&&e)return e();throw this.status=g["a"].ERROR,this.$emit(g["a"].ERROR,t),this.$store.commit("toasts/toastAdd",t),t}}},gt=Et,Ct=Object(O["a"])(gt,u,l,!1,null,null,null),wt=Ct.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{staticClass:"user__home text-bold fill-fore",attrs:{to:{name:"home"},title:"Home"}},[s("icBack",{staticClass:"md"})],1),s("div",{staticClass:"missing"},[s("Card",{staticClass:"max-30"},[s("div",{attrs:{slot:"default"},slot:"default"},[s("p",{staticClass:"title"},[t._v(" Missing Page ")]),s("div",{staticClass:"text-center"},[s("p",[t._v(" The page you're looking for is missing. ")]),s("router-link",{attrs:{to:{name:"home"},title:"Home"}},[s("p",{staticClass:"text-bold no-margin"},[t._v("Home")]),s("icUserAnon",{staticClass:"xl fill-fore margin"})],1)],1)])])],1)],1)},bt=[],kt=s("24d4"),St=s("c958"),Ot={name:"Missing",components:{Card:St["a"],icBack:kt["a"],icUserAnon:M}},Tt=Ot,Dt=Object(O["a"])(Tt,jt,bt,!1,null,null,null),At=Dt.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__tasks-list relative no-overflow"},[t._l(t.tasks,(function(t){return s("TaskItem",{key:t.id,attrs:{data:t}})})),t.tasks.length<1?s("Card",{staticClass:"text-center"},[t.project.id>=0?s("p",{staticClass:"hint"},[t._v(" Add a new task ")]):s("p",{staticClass:"hint"},[t._v(" First you need to create a project to add tasks to ")])]):t._e()],2)},Rt=[],xt={name:"TaskMixin",computed:Object(d["a"])({},Object(b["c"])("user",{sortAsc:function(t){return t.options.sort.asc},sortType:function(t){return t.options.sort.type},showDone:function(t){return t.options.tasks.showDone}})),methods:{createParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return Object(d["a"])({showDone:!!this.showDone&&void 0,sortAsc:!!this.sortAsc||void 0,sortType:ft[this.sortType]},t)},getTasks:function(t){var e=this.$store.getters["tasks/history"],s=Object.keys(e).filter((function(s){return Object(j["a"])(e,s)!==Object(j["a"])(t,s)})).length<1;return s?Promise.resolve([]):(e.project!==t.project&&this.$store.commit("tasks/setTasks",[]),this.$store.commit("tasks/setHistory",t),this.$store.dispatch("tasks/getTasksByProjectId",t))}}},yt=xt,It=Object(O["a"])(yt,r,a,!1,null,null,null),$t=It.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RowItem",{ref:"taskItem",staticClass:"HOVER-BG",attrs:{data:t.data,status:t.status,selected:t.selected,statusCheckBox:t.hasCheckBox},on:{reset:t.resetValue,confirm:t.onConfirm,dblclick:t.onSelectTask,"status-click":t.onSelectTask},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})},Pt=[],Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"row__item",class:{"anim-show-fast":t.isLoading}},[s("div",{staticClass:"row__item__line",class:{OPEN:t.options.open,EDIT:t.isEdit,DELETE:t.isDelete,COMPLETE:t.isDone}},[s("RowStatus",{class:{SHADE:!t.selected&&!t.isDone},attrs:{"is-waiting":t.isWaiting,"is-done":t.isDone,"is-check-box":t.statusCheckBox},on:{click:t.onStatusClick}}),s("div",{staticClass:"row__item__line__mid"},[s("div",{staticClass:"row__item__line__mid__content",on:{dblclick:t.onDblClick,click:t.onClick}},[t.progress?s("small",{staticClass:"row__item__line__mid__content-progress"},[t._v(" "+t._s(t.progress)+" ")]):t._e(),s("p",{staticClass:"row__item__line__mid__content-data"},[t._v(" "+t._s(t.textOrName)+" ")]),t.data.updated?s("small",{staticClass:"row__item__line__mid__content-date-md"},[t._v(" "+t._s(t.dayMonth)+" ")]):t._e(),t.data.updated?s("small",{staticClass:"row__item__line__mid__content-date-lg"},[t._v(" "+t._s(t.dayMonth+"/"+t.year)+" ")]):t._e(),t.data.updated?s("small",{staticClass:"row__item__line__mid__content-date-xl"},[t._v(" "+t._s(t.dayMonth+"/"+t.year+" "+t.time)+" ")]):t._e()]),s("form",{staticClass:"row__item__line__mid__edit",on:{submit:function(e){return e.preventDefault(),t.onConfirmOption(e)}}},[s("input",{ref:"itemEdit",staticClass:"row__item__line__mid__edit-input",class:t.status,attrs:{type:"text"},domProps:{value:t.value},on:{input:t.onValueChange}})]),s("StatusBar",{attrs:{status:t.status}}),s("div",{staticClass:"row__item__line__mid-bg"})],1),s("div",{staticClass:"row__item__line__option-btn"},[s("button",{attrs:{"aria-label":"open options",title:"open options"},on:{click:t.onOpenOption}},[s("icOptions",{staticClass:"icon-90"})],1)])],1),s("RowOption",{attrs:{options:t.options,status:t.status},on:{confirm:t.onConfirmOption,edit:t.onModeEdit,delete:t.onModeDelete,close:t.onCloseOption}})],1)},Bt=[],Mt=(s("a15b"),s("a434"),s("ac1f"),s("1276"),s("fb6e")),Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row__item__status",class:{"NO-CHECKBOX":!t.isCheckBox,HOVER:t.isCheckBox},attrs:{title:"Click to change status"}},[s("label",[s("input",{attrs:{type:"checkbox"},domProps:{value:t.isDone},on:{click:t.onClick}}),s("div",{staticClass:"row__item__status-icon control"},[t.isDone?s("icDone",{staticClass:"fill-success-status"}):t.isWaiting?s("icNone",{staticClass:"fill-waiting-status"}):s("icRound",{staticClass:"fill-fore"})],1),s("span",[t._v("label here")])])])},Ht=[],Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M100,36.36l-63.64,63.64l63.64,63.64l63.64,-63.64l-63.64,-63.64Z"}})])},Yt=[],Jt={},Kt=Object(O["a"])(Jt,Ft,Yt,!1,null,null,null),Gt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"-30 -30 260 260",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M167.175,32.825c-37.075,-37.075 -97.275,-37.075 -134.35,0c-37.075,37.075 -37.075,97.275 0,134.35c37.075,37.075 97.275,37.075 134.35,0c37.075,-37.075 37.075,-97.275 0,-134.35Z"}})])},Zt=[],qt={},Xt=Object(O["a"])(qt,Wt,Zt,!1,null,null,null),zt=Xt.exports,Qt={name:"RowStatus",components:{icNone:Gt,icDone:w["a"],icRound:zt},props:{isWaiting:{type:Boolean,default:!1},isDone:{type:Boolean,default:!1},isCheckBox:{type:Boolean,default:!0}},methods:{onClick:function(){this.$emit("click")}}},te=Qt,ee=Object(O["a"])(te,Vt,Ht,!1,null,null,null),se=ee.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.options.open?s("div",{staticClass:"row__item__option-bar"},[t.showConfirm?s("span",{key:"showConfirm",staticClass:"row__item__option-bar-confirm anim-show"},["DELETE"===t.options.mode?s("span",[t._v(" Delete "),s("span",{staticClass:"hide-md-down"},[t._v(" Item")]),t._v(" ? ")]):t._e(),s("button",{class:[t.options.isValidEdit?"":"DISABLED",t.status],attrs:{"aria-label":"confirm change",title:"confirm change"},on:{click:t.onConfirm}},[s("icDone")],1)]):t._e(),t.options.showEdit?s("button",{key:"showEdit",staticClass:"row__item__option-bar-edit anim-show",attrs:{"aria-label":"edit item",title:"edit item"},on:{click:t.onEdit}},[s("icEdit")],1):t._e(),t.options.showDelete?s("button",{key:"showDelete",staticClass:"row__item__option-bar-delete fill-warning-status anim-show",attrs:{"aria-label":"delete item",title:"delete item"},on:{click:t.onDelete}},[s("icDelete")],1):t._e(),t.options.showClose?s("button",{key:"showClose",staticClass:"row__item__option-bar-close anim-show",attrs:{"aria-label":"close options",title:"close options"},on:{click:t.closeOptions}},[s("icRight")],1):t._e()]):t._e()},oe=[],re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M34.738,131.069l101.601,-100.84l33.767,34.021l-101.6,100.841l-33.768,-34.022Zm-4.719,5.14l33.312,33.562l-33.437,-0.125l0.125,-33.437Z"}})])},ae=[],ie={},ce=Object(O["a"])(ie,re,ae,!1,null,null,null),ue=ce.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M50,0l0,200l100,-100l-100,-100Z"}})])},de=[],pe={},fe=Object(O["a"])(pe,le,de,!1,null,null,null),he=fe.exports,me=s("b05c"),_e=function(){return{mode:g["a"].CLEAR,open:!1,showEdit:!0,showDelete:!0,showClose:!0,isValidEdit:!0}},ve={name:"RowOption",components:{icEdit:ue,icDone:w["a"],icRight:he,icDelete:me["a"]},props:{options:{type:Object,default:_e()},status:{type:String,default:g["a"].CLEAR}},computed:{showConfirm:function(){return this.options.mode===p["a"].EDIT||this.options.mode===p["a"].DELETE}},methods:{onEdit:function(){this.$emit(p["a"].EDIT.toLowerCase())},onDelete:function(){this.$emit(p["a"].DELETE.toLowerCase())},onConfirm:function(){this.$emit(p["a"].CONFIRM.toLowerCase(),this.options.mode)},closeOptions:function(){this.$emit(g["a"].CLOSE.toLowerCase())}}},Ee=ve,ge=Object(O["a"])(Ee,ne,oe,!1,null,null,null),Ce=ge.exports,we=function(){return{mode:g["a"].CLEAR,open:!1,showEdit:!0,showDelete:!0,showClose:!0,isValidEdit:!1}},je={name:"RowItem",components:{RowStatus:se,icOptions:Mt["a"],RowOption:Ce,StatusBar:C["a"]},data:function(){return{options:we()}},props:{data:{type:Object,default:E["a"].DEFAULT_PROJECT},status:{type:String,default:g["a"].CLEAR},statusCheckBox:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},value:{type:String,default:g["a"].CLEAR}},computed:{isLoading:function(){return this.$store.getters.status!==g["a"].CLEAR},progress:function(){return this.data.tasksTotal?v["a"].renderProgressPercent(this.data):null},textOrName:function(){return this.data.name||this.data.text},date:function(){return this.data.updated?v["a"].renderDate(this.data.updated):null},dayMonth:function(){if(!this.data.updated)return null;var t=this.date.split("/");return t.splice(t.length-1,1),t.join("/")},year:function(){if(!this.data.updated)return null;var t=this.date.split("/");return t[t.length-1]},time:function(){return this.data.updated?v["a"].renderTime(this.data.updated):null},isEdit:function(){return this.options.mode===p["a"].EDIT},isDelete:function(){return this.options.mode===p["a"].DELETE},isWaiting:function(){return this.status===g["a"].WAITING},isDone:function(){return!this.isWaiting&&this.data.isDone},isError:function(){return this.status===g["a"].ERROR}},mounted:function(){this.$root.$on(g["a"].CLOSE.toLowerCase(),this.onCloseImmediate),this.$root.$on("blur",this.onBlur)},beforeDestroy:function(){this.$root.$off(g["a"].CLOSE.toLowerCase(),this.onCloseImmediate),this.$root.$off("blur",this.onBlur)},methods:{resetStatus:function(){this.$emit(g["a"].RESET.toLowerCase(),g["a"].CLEAR)},resetMode:function(){this.options.mode=g["a"].CLEAR},onClick:function(){this.$root.$emit(g["a"].CLOSE.toLowerCase(),this.data.id),this.$emit(g["a"].CLICK.toLowerCase(),this.data.id)},onDblClick:function(){this.$emit("dblclick",this.data.id)},onStatusClick:function(){this.$emit("status-click",this.data.id)},onConfirmOption:function(){this.$emit(p["a"].CONFIRM.toLowerCase(),this.options.mode)},onModeEdit:function(){var t=this;this.onClick(),this.$root.$emit(p["a"].EDIT.toLowerCase(),!0),this.options.mode=p["a"].EDIT,this.options.showEdit=!1,this.options.showDelete=!1,this.$nextTick((function(){return t.$refs.itemEdit.focus()}))},onBlur:function(){this.$refs.itemEdit.blur()},onModeDelete:function(){this.onClick(),this.options.mode=p["a"].DELETE,this.options.showEdit=!1,this.options.showDelete=!1,this.options.isValidEdit=!0},onOpenOption:function(){this.$root.$emit(g["a"].CLOSE.toLowerCase(),this.data.id),this.resetMode(),this.resetStatus(),this.options.open=!0,this.options.showEdit=!0,this.options.showDelete=!0,this.options.showClose=!0,this.options.isValidEdit=!1},onCloseOption:function(){this.onCloseImmediate()},onCloseImmediate:function(t){this.$root.$emit(p["a"].EDIT.toLowerCase(),!1),this.data.id!==t&&(this.resetMode(),this.options.open=!1,this.options.showEdit=!1,this.options.showDelete=!1,this.options.showClose=!1)},onValueChange:function(t){this.checkEditIsValid(t),this.$emit(g["a"].INPUT.toLowerCase(),t.target.value)},checkEditIsValid:function(t){t.target.value.length<4?this.options.isValidEdit=!1:this.options.isValidEdit=t.target.value!==this.textOrName}}},be=je,ke=Object(O["a"])(be,Nt,Bt,!1,null,null,null),Se=ke.exports,Oe={name:"TaskItem",components:{RowItem:Se},props:{data:{type:Object,default:E["a"].DEFAULT_TASK()},selected:{type:Boolean,default:!1}},data:function(){return{status:g["a"].CLEAR,input:g["a"].CLEAR,hasCheckBox:!0}},methods:{onSelectTask:function(){var t=this;if(this.status===g["a"].CLEAR){this.status=g["a"].WAITING;var e={id:this.data.id,isDone:!this.data.isDone};return this.$store.dispatch("tasks/update",e).then((function(){return t.$store.commit("tasks/patchTask",e),t.handleSuccess(),t.getLatestProject()})).catch((function(e){return t.handleError(e,t.onSelectTask)}))}},onConfirm:function(t){return t===p["a"].EDIT?this.confirmEdit():t===p["a"].DELETE?this.confirmDelete():void 0},confirmEdit:function(){var t=this;if(this.status===g["a"].CLEAR&&this.input!==this.data.text){this.status=g["a"].WAITING;var e={id:this.data.id,text:this.input};return this.$store.dispatch("tasks/update",e).then((function(){return t.$root.$emit("blur")})).then((function(){return t.handleSuccess()})).catch((function(e){return t.handleError(e,t.confirmEdit)}))}},confirmDelete:function(){var t=this;if(this.status===g["a"].CLEAR)return this.status=g["a"].WAITING,this.$store.dispatch("tasks/remove",this.data).then((function(){return t.handleSuccess(),t.getLatestProject()})).catch((function(e){return t.handleError(e,t.confirmDelete)}))},checkEdit:function(){return this.resetStatus(),!(!this.input||this.input.length<4)&&this.input!==this.data.text},resetValue:function(){this.input=this.data.text},resetStatus:function(){this.status=g["a"].CLEAR},getLatestProject:function(){return this.$store.dispatch("projects/getProjectById",{id:this.data.project})},handleSuccess:function(){var t=this;this.status=g["a"].SUCCESS,v["a"].timeDelay((function(){t.$root.$emit(g["a"].CLOSE.toLowerCase(),-1)}),E["a"].DELAY_SUCCESS),v["a"].timeDelay((function(){t.resetStatus()}),E["a"].DELAY_SUCCESS+E["a"].DELAY)},handleError:function(t,e){var s=this,n=Object(j["a"])(t,"response.status");if(n&&401===n&&this.$store.getters["user/isAnon"]){if(!e)return;return e()}this.status=g["a"].ERROR,this.$root.$emit(p["a"].EDIT.toLowerCase(),!1),this.$emit(g["a"].ERROR.toLowerCase(),t),this.$store.commit("toasts/toastAdd",t),v["a"].timeDelay((function(){s.resetStatus()}),E["a"].DELAY_ERROR)}}},Te=Oe,De=Object(O["a"])(Te,Ut,Pt,!1,null,null,null),Ae=De.exports,Le={name:"TasksList",components:{Card:St["a"],TaskItem:Ae},mixins:[$t],props:{project:{type:Number,default:-1}},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(b["c"])(["ready"])),Object(b["c"])("user",{user:function(t){return t.user},sort:function(t){return t.options.sort},showDone:function(t){return t.options.tasks.showDone}})),{},{tasks:function(){return this.showDone?this.$store.getters["tasks/tasks"]:this.$store.getters["tasks/tasksNotDone"]}}),watch:{ready:"fetchList",sort:"fetchList",showDone:"fetchList"},created:function(){this.ready&&this.fetchList()},methods:{fetchList:function(){var t=this,e=this.createParams({project:this.project});return this.getTasks(e).catch((function(e){return t.handleError(e,t.fetchList)}))},handleError:function(t,e){var s=Object(j["a"])(t,"response.status");if(s&&401===s&&this.$store.getters["user/isAnon"]&&e)return e();throw this.status=g["a"].ERROR,this.$emit(g["a"].ERROR,t),this.$store.commit("toasts/toastAdd",t),t}}},Re=Le,xe=Object(O["a"])(Re,Lt,Rt,!1,null,null,null),ye=xe.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Card",{staticClass:"max-30 intro-text"},[s("p",{staticClass:"title"},[t._v(" Welcome to MiniTask ")]),s("p",{staticClass:"intro-text__desc1"},[t._v(" A simple, fast, easy and shareable todo list. ")]),t.isValidUser?s("p",{staticClass:"intro-text__desc2"},[t._v(" To start, view your "),s("router-link",{staticClass:"no-margin text-bold color-fore",attrs:{to:"/projects"}},[t._v("Projects")]),t._v(". ")],1):s("p",{staticClass:"intro-text__desc2"},[t._v(" To get started, choose a account option from below. ")]),t.isValidUser?t._e():s("div",{staticClass:"flex-row flex-between intro-text__buttons"},[s("router-link",{staticClass:"text-bold color-fore",attrs:{to:"/user/login"}},[t._v("Login")]),s("router-link",{staticClass:"text-bold color-fore",attrs:{to:"/user/create"}},[t._v("Create")]),s("button",{staticClass:"intro-text__anon",on:{click:t.createAnonUser}},[t._v("Try")])],1)]),s("Card",{staticClass:"max-30 intro-text"},[s("p",{staticClass:"title"},[t._v(" Features: ")]),s("ul",[s("li",[t._v(" No need for an account ")]),s("li",[t._v(" A quick overview of progress ")]),s("li",[t._v(" Share projects with others (coming soon) ")]),s("li",[t._v(" Works on Mobile and Desktop ")])])])],1)},$e=[],Ue={name:"Landing",components:{Card:St["a"]},computed:Object(d["a"])({},Object(b["b"])("user",{isValidUser:"isValidUser"})),methods:{createAnonUser:function(){var t=this,e=Promise.resolve([]);return this.isValidUser||(e=this.$store.dispatch("user/createAnon")),e.then((function(){v["a"].timeDelay((function(){t.$router.push({name:ot["a"].PROJECTS})}),E["a"].DELAY_SUCCESS)})).catch((function(e){t.$store.commit("toasts/toastAdd",e)}))}}},Pe=Ue,Ne=Object(O["a"])(Pe,Ie,$e,!1,null,null,null),Be=Ne.exports,Me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task__project__projects-list relative no-overflow"},[t._l(t.projects,(function(e){return s("ProjectItem",{key:e.id,attrs:{data:e,selected:t.project.id===e.id}})})),t.projects.length<1?s("Card",{staticClass:"text-center"},[s("p",{staticClass:"hint"},[t._v(" Start by creating a new project to add tasks to ")])]):t._e()],2)},Ve=[],He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RowItem",{ref:"projItem",staticClass:"HOVER-BORDER",class:{SELECT:t.selected},attrs:{data:t.data,status:t.status,selected:t.selected,statusCheckBox:t.hasCheckBox},on:{reset:t.resetValue,confirm:t.onConfirm,click:t.onSelectProject,dblclick:t.onShowTasks},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})},Fe=[],Ye={name:"ProjectItem",components:{RowItem:Se},props:{data:{type:Object,default:E["a"].DEFAULT_PROJECT()},selected:{type:Boolean,default:!1}},data:function(){return{status:g["a"].CLEAR,input:g["a"].CLEAR,hasCheckBox:!1}},methods:{onSelectProject:function(){this.$store.commit("projects/projectCurrent",this.data)},onShowTasks:function(){this.$router.push({name:ot["a"].PROJECT_TASKS,params:{project:this.data.id}})},onConfirm:function(t){return t===p["a"].EDIT?this.confirmEdit():t===p["a"].DELETE?this.confirmDelete():void 0},confirmEdit:function(){var t=this;if(this.status===g["a"].CLEAR&&this.input!==this.data.name){this.status=g["a"].WAITING;var e={id:this.data.id,name:this.input};return this.$store.dispatch("projects/update",e).then((function(){return t.$root.$emit("blur")})).then((function(){return t.handleSuccess()})).catch((function(e){return t.handleError(e,t.confirmEdit)}))}},confirmDelete:function(){var t=this;if(this.status===g["a"].CLEAR)return this.status=g["a"].WAITING,this.$store.dispatch("projects/remove",this.data).then((function(){return t.handleSuccess()})).catch((function(e){return t.handleError(e,t.confirmDelete)}))},checkEdit:function(){return this.resetStatus(),!(!this.input||this.input.length<4)&&this.input!==this.data.name},resetValue:function(){this.input=this.data.name},resetStatus:function(){this.status=g["a"].CLEAR},handleSuccess:function(){var t=this;this.status=g["a"].SUCCESS,v["a"].timeDelay((function(){t.$root.$emit(g["a"].CLOSE.toLowerCase(),-1)}),E["a"].DELAY_SUCCESS),v["a"].timeDelay((function(){t.resetStatus()}),E["a"].DELAY_SUCCESS+E["a"].DELAY)},handleError:function(t,e){var s=this,n=Object(j["a"])(t,"response.status");if(n&&401===n&&this.$store.getters["user/isAnon"]){if(!e)return;return e()}this.status=g["a"].ERROR,this.$root.$emit(p["a"].EDIT.toLowerCase(),!1),this.$emit(g["a"].ERROR.toLowerCase(),t),this.$store.commit("toasts/toastAdd",t),v["a"].timeDelay((function(){s.resetStatus()}),E["a"].DELAY_ERROR)}}},Je=Ye,Ke=Object(O["a"])(Je,He,Fe,!1,null,null,null),Ge=Ke.exports,We={name:"ProjectsList",components:{Card:St["a"],ProjectItem:Ge},mixins:[vt],computed:Object(d["a"])(Object(d["a"])({},Object(b["c"])("user",{sort:function(t){return t.options.sort},showDone:function(t){return t.options.projects.showDone}})),{},{project:function(){return this.$store.getters["projects/current"]},projects:function(){return this.showDone?this.$store.getters["projects/projects"]:this.$store.getters["projects/projectsNotDone"]}}),watch:{sort:"fetchList",showDone:"fetchList"},methods:{fetchList:function(){var t=this,e=this.createParams();return this.getProjects(e).catch((function(e){return t.handleError(e,t.fetchList)}))},handleError:function(t,e){var s=Object(j["a"])(t,"response.status");if(s&&401===s&&this.$store.getters["user/isAnon"]&&e)return e();throw this.status=g["a"].ERROR,this.$emit(g["a"].ERROR,t),this.$store.commit("toasts/toastAdd",t),t}}},Ze=We,qe=Object(O["a"])(Ze,Me,Ve,!1,null,null,null),Xe=qe.exports;i["a"].use(c["a"]);var ze=[{path:"/",component:wt,props:{mode:p["a"].CLEAR},children:[{path:"",name:ot["a"].HOME,component:Be}]},{path:"/projects",component:wt,props:{mode:p["a"].PROJECTS},children:[{path:"",name:ot["a"].PROJECTS,props:{},component:Xe}]},{path:"/project/:project",component:wt,props:function(t){return{mode:p["a"].TASKS,project:Number(t.params.project)}},children:[{path:"",name:ot["a"].PROJECT_TASKS,props:function(t){return{project:Number(t.params.project)}},component:ye}]},{path:"/user",name:ot["a"].USER,component:function(){return s.e("User").then(s.bind(null,"1511"))}},{path:"/user/create",name:ot["a"].USER_CREATE,component:function(){return s.e("User").then(s.bind(null,"924e"))}},{path:"/user/login",name:ot["a"].USER_LOGIN,component:function(){return s.e("User").then(s.bind(null,"43f8"))}},{path:"/user/verify/:verify",component:wt,props:function(t){return{mode:p["a"].CLEAR,verify:t.params.verify}},children:[{path:"",name:ot["a"].USER_VERIFY,props:function(t){return{mode:p["a"].CLEAR,verify:t.params.verify}},component:function(){return s.e("User").then(s.bind(null,"0d4c"))}}]},{path:"/user/reset",props:function(){return{verify:""}},name:ot["a"].USER_RESET,component:function(){return s.e("User").then(s.bind(null,"41cf"))}},{path:"/user/reset/:verify",props:function(t){return{verify:t.params.verify}},name:ot["a"].USER_RESET_PASSWORD,component:function(){return s.e("User").then(s.bind(null,"41cf"))}},{path:"*",name:ot["a"].MISSING,component:At}];"development"==="production".toLowerCase()&&ze.push({path:"/GetUser/:user",component:wt,props:function(t){return{user:t.params.user}},children:[{path:"",name:"get.user",props:function(t){return{user:t.params.user}},component:function(){return s.e("GetUser").then(s.bind(null,"78b7"))}}]});var Qe=new c["a"]({mode:"history",base:"/",routes:ze});e["a"]=Qe},b05c:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M100,68.887l50.205,-50.204l31.112,31.112l-50.204,50.205l50.204,50.205l-31.112,31.112l-50.205,-50.204l-50.205,50.204l-31.112,-31.112l50.204,-50.205l-50.204,-50.205l31.112,-31.112l50.205,50.204Z"}})])},o=[],r=s("2877"),a={},i=Object(r["a"])(a,n,o,!1,null,null,null);e["a"]=i.exports},b20f:function(t,e,s){},b6dd:function(t,e,s){"use strict";var n="",o="USER",r="PROJECTS",a="TASKS",i="EDIT",c="CREATE",u="DELETE",l="ALL",d="CONFIRM",p="SELECT",f="CLICk",h="DOUBLE-CLICk",m="OPEN",_="CLOSE";e["a"]={CLEAR:n,USER:o,PROJECTS:r,TASKS:a,EDIT:i,CREATE:c,DELETE:u,ALL:l,CONFIRM:d,SELECT:p,CLICK:f,DOUBLE_CLICK:h,OPEN:m,CLOSE:_}},c0dc:function(t,e,s){"use strict";s("d3b7");var n=s("a18c"),o=s("4360"),r=s("bc3a"),a=s.n(r),i=s("5dff"),c=s("6ffa");function u(t){return o["a"].commit("status",c["a"].SUCCESS),t}function l(t){if(401===t.response.data.status){var e=o["a"].getters["user/isAnon"],s=e?o["a"].dispatch("user/getAnonToken"):o["a"].dispatch("user/logout");return s.then((function(){throw e||n["a"].push({name:i["a"].USER_LOGIN}),t}))}throw o["a"].commit("status",c["a"].ERROR),t}function d(t,e){return a.a.get(t,e)}function p(t,e){return a.a.post(t,e)}function f(t,e){return a.a.put(t,e)}function h(t,e){return a.a.patch(t,e)}function m(t,e){return a.a.delete(t,e)}a.a.defaults.headers.common["Accept-Version"]="v1",a.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a.a.interceptors.request.use((function(t){return o["a"].commit("status",c["a"].WAITING),t}),(function(t){return Promise.reject(t)})),a.a.interceptors.response.use(u,l);var _={get:d,post:p,put:f,patch:h,remove:m};e["a"]=_},c958:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card__content"},[t._t("default")],2),t.hasFooterSlot?s("div",{staticClass:"card__footer flex-row flex-between"},[t._t("footer")],2):t._e()])},o=[],r={name:"Card",computed:{hasFooterSlot:function(){return!!this.$slots.footer}}},a=r,i=s("2877"),c=Object(i["a"])(a,n,o,!1,null,null,null);e["a"]=c.exports},fb6e:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"icon",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M0,155.556l178.182,0l21.818,44.444l-180,0l-20,-44.444Zm0,-77.778l178.182,0l21.818,44.444l-180,0l-20,-44.444Zm0,-77.778l178.182,0l21.818,44.444l-180,0l-20,-44.444Z"}})])},o=[],r=s("2877"),a={},i=Object(r["a"])(a,n,o,!1,null,null,null);e["a"]=i.exports},fbc4:function(t,e,s){"use strict";var n=500,o=250,r=33,a=900,i=6e3,c=function(){return{id:-1,name:"",email:"",role:"",meta:{}}},u=function(){return{tasks:{showDone:!0},projects:{showDone:!0},sort:{asc:!1,type:"updated"}}},l=function(){return{project:-1,showDone:null,sortAsc:null,sortType:""}},d=function(){return{user:-1,showDone:null,sortAsc:null,sortType:""}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{id:-1,name:"New Project",user:t,tasksDone:0,tasksTotal:0,isDone:!1,doneDate:null}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{name:"New Project",user:t,tasksDone:0,tasksTotal:0,isDone:!1,doneDate:null}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{id:-1,text:"New Task",project:-1,user:t,isDone:!1}},m=function(){return{tasks:0,tasksDone:0,projects:0,projectsDone:0}};e["a"]={DELAY:n,DELAY_BLIP:r,DELAY_SHORT:o,DELAY_SUCCESS:a,DELAY_ERROR:i,DEFAULT_PROJECT:p,DEFAULT_PROJECT_NO_ID:f,DEFAULT_TASK:h,DEFAULT_USER:c,DEFAULT_USER_OPTIONS:u,DEFAULT_TOTALS:m,DEFAULT_TASK_HISTORY:l,DEFAULT_PROJECT_HISTORY:d}}});
//# sourceMappingURL=app.6b13abb1.js.map