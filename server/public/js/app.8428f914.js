(function(t){function e(e){for(var r,s,u=e[0],i=e[1],c=e[2],l=0,d=[];l<u.length;l++)s=u[l],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var i=n[s];0!==o[i]&&(r=!1)}r&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={app:0},a=[];function s(t){return u.p+"js/"+({task:"task"}[t]||t)+"."+{task:"d52973f4"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=r);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=s(t);var c=new Error;a=function(e){i.onerror=i.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}o[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var f=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("ToastHolder"),t._m(0),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" | "),n("router-link",{attrs:{to:"/task"}},[t._v("Task")])],1),n("router-view"),t._m(1)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("p",[t._v("title here")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("p",[t._v("footer here")])])}],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast"},t._l(t.Toasts,(function(t){return n("Toast",{key:t.id,attrs:{data:t}})})),1)},u=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast",class:{ERROR:t.data.isError}},[n("div",{staticClass:"toast__content"},[t._v(" "+t._s(t.data)+" ")]),n("button",{staticClass:"toast__close",on:{click:t.closeToast}},[t._v(" X ")])])},c=[];function l(){return{id:-1,title:"",message:"",status:"",isError:!1,isTimed:!1,time:-1}}var f={name:"Toast",props:{data:l()},methods:{closeToast:function(){this.$store.commit("toasts/toastRemove",this.data)}}},d=f,p=n("2877"),m=Object(p["a"])(d,i,c,!1,null,null,null),h=m.exports,v={name:"ToastHolder",components:{Toast:h},computed:{Toasts:function(){return this.$store.getters["toasts/toasts"]}},methods:{clearAllToasts:function(){this.$store.commit("toasts/toastRemoveAll")}}},g=v,k=Object(p["a"])(g,s,u,!1,null,null,null),j=k.exports,_={name:"App",components:{ToastHolder:j}},b=_,T=Object(p["a"])(b,o,a,!1,null,null,null),y=T.exports,O=n("2f62"),w=(n("b0c0"),n("bc3a")),S=n.n(w);function E(t,e){return S.a.get(t,e)}function x(t,e){return S.a.post(t,e)}function R(t,e){return S.a.put(t,e)}function P(t,e){return S.a.patch(t,e)}function A(t,e){return S.a.delete(t,e)}S.a.defaults.headers.common["Accept-Version"]="v1",S.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var C={get:E,post:x,put:R,patch:P,remove:A},$=C,H="user_token",q="user_payload";function M(t){return t.data&&t.data.data&&t.data.data.account?(localStorage.setItem(q,JSON.stringify(t.data.data.account)),t):(localStorage.setItem(q,""),t)}function I(){var t=localStorage.getItem(q);if(void 0!==t&&"undefined"!==t&&null!==t)return JSON.parse(t)}function J(){N()}function L(t){return t.data&&t.data.data&&t.data.data.token?(localStorage.setItem(H,t.data.data.token),U(t.data.data.token),t):(localStorage.setItem(H,null),V(),t)}function N(){var t=localStorage.getItem(H);t?U(t):V()}function U(t){S.a.defaults.headers.common.authorization="Bearer ".concat(t)}function V(){S.a.defaults.headers.common.authorization=null}function W(){return $.get("/api/user").then((function(t){return L(t)})).then((function(t){return M(t)}))}function X(t){return $.post("/api/user",t).then((function(t){return L(t)})).then((function(t){return M(t)}))}function z(t){return $.post("/api/user/login",t).then((function(t){return L(t)})).then((function(t){return M(t)}))}function B(){return $.post("/api/user/logout").then((function(t){return L(t)})).then((function(t){return M(t)}))}function K(t){return $.patch("/api/user",t).then((function(t){return L(t)})).then((function(t){return M(t)}))}function Y(t){return $.post("/api/user/reset",t).then((function(t){return L(t)})).then((function(t){return M(t)}))}function D(t){return $.patch("/api/user/reset/".concat(t.verify),t).then((function(t){return L(t)})).then((function(t){return M(t)}))}function F(t){return $.get("/api/user/verify/".concat(t)).then((function(t){return L(t)})).then((function(t){return M(t)}))}J();var G={create:X,login:z,logout:B,update:K,verify:F,get:W,getUser:I,resetStart:Y,resetComplete:D},Q=G;function Z(){var t=Q.getUser();return void 0!==t?t:{id:-1,name:"",email:"",role:"user"}}var tt={namespaced:!0,state:{user:Z()},getters:{user:function(t){return t.user}},mutations:{user:function(t,e){t.user.id=e.id,t.user.name=e.name,t.user.email=e.email,t.user.role=e.role}},actions:{}},et=(n("4de4"),-1),nt=null,rt=10,ot=1e3;function at(t){et+=1;var e=t.title?t.title:"",n=t.message?t.message:"",r=!t.isError||t.isError,o=!!t.isTimed&&t.isTimed,a=function(){return t.isTimed?rt:-1};return{id:et,title:e,message:n,isError:r,isTimed:o,time:a()}}function st(t){nt||(nt=setTimeout((function(){it(t)}),ot))}function ut(){clearTimeout(nt),nt=null}function it(t){for(var e=!0,n=t.toasts.length-1;n>=0;n--)t.toasts[n].isTimed&&t.toasts[n].time>=0&&(t.toasts[n].time-=1,t.toasts[n].isTimed&&t.toasts[n].time<0&&r["a"].delete(t.toasts,n),e=!1);e?ut():(nt=null,st(t))}var ct={namespaced:!0,state:{toasts:[]},getters:{toasts:function(t){return t.toasts},toast:function(t){return function(e){return t.toasts.filter((function(t){return t.id===e}))}}},mutations:{toastAdd:function(t,e){var n=at(e);return t.toasts.push(n),n.isTimed>=0&&st(t),e},toastRemove:function(t,e){for(var n=0,o=t.toasts.length;n<o;n++)if(t.toasts[n].id===e.id)return r["a"].delete(t.toasts,n),e},toastRemoveAll:function(t){r["a"].set(t,"toasts",[])}},actions:{}};n("7db0");function lt(t){return $.get("/api/tasks",{params:t})}function ft(t){return $.get("/api/task/".concat(t))}function dt(t){return $.post("/api/task/create/",t)}function pt(t){return $.patch("/api/task/",t)}function mt(t){return $.remove("/api/task/",t)}var ht={all:lt,get:ft,create:dt,update:pt,remove:mt},vt=ht,gt={namespaced:!0,state:{tasks:[],current:{}},getters:{current:function(t){return t.current},tasks:function(t){return t.tasks},task:function(t){return function(e){return t.tasks.find((function(t){return t.id===e}))}}},mutations:{taskCurrent:function(t,e){r["a"].set(t,"current",e)},taskAdd:function(t,e){return t.tasks.push(e),e},taskReplace:function(t,e){for(var n=0,o=t.tasks.length;n<o;n++)if(t.tasks[n].id===e.id)return r["a"].set(t.tasks,n,e),t.tasks[n]},taskRemove:function(t,e){for(var n=0,o=t.tasks.length;n<o;n++)if(t.tasks[n].id===e.id)return r["a"].delete(t.tasks,n),e},taskSet:function(t,e){console.log(e),r["a"].set(t,"tasks",e)}},actions:{create:function(t,e){return vt.create(e).then((function(e){return t.commit("taskCurrent",e.data.data.task),t.commit("taskAdd",e.data.data.task)}))},update:function(t,e){return vt.update(e).then((function(e){return t.commit("taskReplace",e.data.data.task)}))},remove:function(t,e){return vt.remove(e.id).then((function(){return t.commit("taskRemove",e)}))},getTasksByUserOrProject:function(t,e){return vt.all(e).then((function(e){return t.commit("taskSet",e.data.data.tasks)}))}}};function kt(t){return $.get("/api/project/all",t)}function jt(t){return $.get("/api/project/".concat(t))}function _t(t){return $.post("/api/project/create/",t)}function bt(t){return $.patch("/api/project/".concat(t.id),t)}function Tt(t){return $.remove("/api/project/".concat(t))}var yt={all:kt,get:jt,create:_t,update:bt,remove:Tt},Ot=yt;function wt(){return{id:-1,name:"Project"}}var St={namespaced:!0,state:{projects:[wt(),{id:3,name:"testProject"}],current:wt()},getters:{current:function(t){return t.current},projects:function(t){return t.projects},project:function(t){return function(e){return t.projects.find((function(t){return t.id===e}))}}},mutations:{projectCurrent:function(t,e){r["a"].set(t,"current",e)},projectAdd:function(t,e){return t.projects.push(e),e},projectReplace:function(t,e){for(var n=0,o=t.projects.length;n<o;n++)if(t.projects[n].id===e.id)return r["a"].set(t.projects,n,e),t.projects[n]},projectRemove:function(t,e){for(var n=0,o=t.projects.length;n<o;n++)if(t.projects[n].id===e.id)return r["a"].delete(t.projects,n),e}},actions:{create:function(t,e){return Ot.create(e).then((function(e){return t.commit("projectCurrent",e.data.project),t.commit("projectAdd",e.data.project)}))},update:function(t,e){return Ot.update(e).then((function(e){return t.commit("projectReplace",e.data.project)}))},remove:function(t,e){return Ot.remove(e.id).then((function(n){return t.commit("projectRemove",e)}))}}};r["a"].use(O["a"]);var Et=new O["a"].Store({state:{},mutations:{},actions:{},modules:{toasts:ct,user:tt,tasks:gt,projects:St}}),xt=(n("d3b7"),n("8c4f")),Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}}),t._m(0),t._m(1),t._m(2),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.userToken,expression:"userToken"}],attrs:{type:"text",name:"token",placeholder:""},domProps:{value:t.userToken},on:{input:function(e){e.target.composing||(t.userToken=e.target.value)}}})])],1)},Pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:"/api/user",method:"POST"}},[n("input",{attrs:{type:"text",name:"name",placeholder:"name",required:""}}),n("input",{attrs:{type:"email",name:"email",placeholder:"email",required:""}}),n("input",{attrs:{type:"password",name:"password",placeholder:"password",required:"",minlength:"6"}}),n("button",[t._v("send")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:"/api/user/login",method:"POST"}},[n("input",{attrs:{type:"text",name:"email",placeholder:"email",required:""}}),n("input",{attrs:{type:"text",name:"password",placeholder:"password",required:"",minlength:"6"}}),n("button",[t._v("send")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:"/api/user/byemail",method:"POST"}},[n("input",{attrs:{type:"text",name:"email",placeholder:""}}),n("button",[t._v("test get by email")])])}],At={name:"Home",components:{},data:function(){return{userTest:"token here",userToken:"token here"}},methods:{}},Ct=At,$t=Object(p["a"])(Ct,Rt,Pt,!1,null,null,null),Ht=$t.exports,qt="home",Mt="task",It={HOME:qt,TASK:Mt};r["a"].use(xt["a"]);var Jt=[{path:"/",name:It.HOME,component:Ht},{path:"/task",name:It.TASK,component:function(){return n.e("task").then(n.bind(null,"1d21"))}}],Lt=new xt["a"]({mode:"history",base:"/",routes:Jt}),Nt=Lt;n("b20f");r["a"].config.productionTip=!1,new r["a"]({router:Nt,store:Et,render:function(t){return t(y)}}).$mount("#app")},b20f:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.8428f914.js.map